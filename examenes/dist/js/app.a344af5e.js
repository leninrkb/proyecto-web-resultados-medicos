(function(){"use strict";var e={5553:function(e,t,a){var r=a(9242),s=a(3396);function o(e,t){const a=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(a)}var i=a(89);const n={},l=(0,i.Z)(n,[["render",o]]);var d=l,u=a(2483);const c={class:"container mx-auto"},m=(0,s._)("br",null,null,-1),_=(0,s._)("div",{class:"mx-5 sm:mx-24"},[(0,s._)("div",{class:"p-3 text-gray-400"}," HOME - portada de bienvenida ")],-1);function p(e,t,a,r,o,i){const n=(0,s.up)("Toolbar");return(0,s.wg)(),(0,s.iD)("div",c,[(0,s.Wm)(n,{datos:o.datos},null,8,["datos"]),m,_])}var h=a(7139);const g={class:"font-sans bg-sky-500 rounded-b-lg p-3 flex-wrap sm:flex gap-3"},f={class:"text-2xl font-medium p-2 animation ease-in-out duration-300 hover:text-emerald-200"},v={class:"grow"},b={class:"flex gap-3 text-sky-950"},x={class:"flex gap-3 text-gray-200"};function w(e,t,a,r,o,i){const n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",g,[(0,s._)("h1",f,[(0,s.Wm)(n,{to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,h.zw)(a.datos.titulo),1)])),_:1})]),(0,s._)("div",v,[(0,s._)("nav",null,[(0,s._)("ul",b,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.datos.enlaces,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{class:"shadow-md rounded-lg p-2 animation ease-in-out duration-150 hover:translate-y-1 hover:shadow-none hover:text-black",key:t},[(0,s.Wm)(n,{to:e.ruta},{default:(0,s.w5)((()=>[(0,s.Uk)((0,h.zw)(e.titulo),1)])),_:2},1032,["to"])])))),128))])])]),(0,s._)("div",null,[(0,s._)("nav",null,[(0,s._)("ul",x,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.datos.primarios,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{class:"shadow-md rounded-lg p-2 bg-emerald-600 animation ease-in-out duration-150 hover:translate-y-1 hover:shadow-none hover:text-white",key:t},[(0,s.Wm)(n,{to:e.ruta},{default:(0,s.w5)((()=>[(0,s.Uk)((0,h.zw)(e.titulo),1)])),_:2},1032,["to"])])))),128))])])])])}var y={name:"Toolbar",props:{datos:{type:Object,required:!0}}};const k=(0,i.Z)(y,[["render",w]]);var D=k;const Z="/",z="registro",E="/examenes_disponibles",j="/login",C="/inicio",U=C+"/examenes",T=C+"/disponibles",q=C+"/pacientes",O="http://127.0.0.1:8000/genero/get/",W="http://127.0.0.1:8000/persona/create",R="http://127.0.0.1:8000/usuario/create",F="http://127.0.0.1:8000/rol_usuario/get",$="http://127.0.0.1:8000/persona/delete/",I="http://127.0.0.1:8000/usuario/autenticar/",H="http://127.0.0.1:8000/examen/get/",V="http://127.0.0.1:8000/examen/get/",Y="http://127.0.0.1:8000/persona/get/",S="http://127.0.0.1:8000/institucion/get/",M="http://127.0.0.1:8000/estado_examen/get/",P="http://127.0.0.1:8000/tipo_examen/get/",B="http://127.0.0.1:8000/detalle/get/";var K={name:"HomeView",components:{Toolbar:D},data(){return{datos:{titulo:"Biolab",enlaces:[{titulo:"Examenes",ruta:E}],primarios:[{titulo:"Registrarse",ruta:z},{titulo:"Iniciar Sesion",ruta:j}]}}}};const L=(0,i.Z)(K,[["render",p]]);var N=L;const Q={class:"container mx-auto font-sans"},A=(0,s._)("br",null,null,-1),G={class:"mx-5 sm:mx-24"},J={class:"p-3 text-gray-400"},X=(0,s._)("h2",{class:"text-2xl"},"Registro",-1),ee=(0,s._)("h2",{class:"text-xl"},"Crea tu usuario",-1),te=(0,s._)("br",null,null,-1),ae=(0,s._)("h2",{class:"font-bold"},"Registro",-1),re=(0,s._)("br",null,null,-1),se=(0,s._)("br",null,null,-1),oe=(0,s._)("hr",null,null,-1),ie=(0,s._)("br",null,null,-1),ne=(0,s._)("br",null,null,-1),le={class:"flex flex-row-reverse gap-3"},de=["src"],ue={class:"font-semibold italic"};function ce(e,t,a,r,o,i){const n=(0,s.up)("Toolbar"),l=(0,s.up)("FormPersona"),d=(0,s.up)("FormUsuario"),u=(0,s.up)("Card");return(0,s.wg)(),(0,s.iD)("div",Q,[(0,s.Wm)(n,{datos:o.datos},null,8,["datos"]),A,(0,s._)("div",G,[(0,s._)("div",J,[X,ee,te,(0,s.Wm)(u,{class:"text-gray-800 font-sans w-fit mx-auto"},{default:(0,s.w5)((()=>[ae,re,(0,s.Wm)(l,{onEmitido:i.capturar_persona},null,8,["onEmitido"]),se,oe,ie,(0,s.Wm)(d,{rol_visible:"true",onEmitido:i.capturar_usuario},null,8,["onEmitido"]),ne,(0,s._)("div",le,[o.cargando?((0,s.wg)(),(0,s.iD)("img",{key:1,class:"w-6 h-6 animate-spin",src:o.arrows_rotate,alt:"arrows rotate"},null,8,de)):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"active:translate-x-3 animation ease-in-out duration-200 hover:bg-green-500 hover:text-gray-800 rounded-md p-2 bg-emerald-600 text-gray-200",onClick:t[0]||(t[0]=(...e)=>i.crear_persona&&i.crear_persona(...e))},"Siguiente"))]),(0,s._)("div",null,[(0,s._)("p",ue,(0,h.zw)(o.mensaje),1)])])),_:1})])])])}a(7658);const me={class:"grid grid-flow-dense grid-cols-3 grid-rows-10 gap-y-2"},_e=(0,s._)("label",{class:"col-span-1 font-semibold",for:"usuario"},"usuario",-1),pe=(0,s._)("label",{class:"col-span-1 font-semibold",for:"contrasena"},"contrasena",-1),he={key:0,class:"col-span-1 font-semibold",for:"rol"},ge={key:0,class:"w-80 mx-auto my-3 text-red-700 font-semibold"},fe={class:"break-before-all"};function ve(e,t,a,o,i,n){const l=(0,s.up)("Combo");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",me,[_e,(0,s.wy)((0,s._)("input",{class:"col-span-2 px-2 rounded-md",type:"text",id:"usuario","onUpdate:modelValue":t[0]||(t[0]=e=>i.usuario=e),onInput:t[1]||(t[1]=(...e)=>n.emitir_datos&&n.emitir_datos(...e))},null,544),[[r.nr,i.usuario]]),pe,(0,s.wy)((0,s._)("input",{class:"col-span-2 px-2 rounded-md",type:"password",id:"contrasena","onUpdate:modelValue":t[2]||(t[2]=e=>i.contrasena=e),onInput:t[3]||(t[3]=(...e)=>n.emitir_datos&&n.emitir_datos(...e))},null,544),[[r.nr,i.contrasena]]),i._rol_visible?((0,s.wg)(),(0,s.iD)("label",he,"rol")):(0,s.kq)("",!0),i._rol_visible?((0,s.wg)(),(0,s.j4)(l,{key:1,llave:"rol",id_prop:i.id_rol,onEmitido:n.capturar_valor,peticion:i.get_roles_usuarios},null,8,["id_prop","onEmitido","peticion"])):(0,s.kq)("",!0)]),i.mostrar_errores?((0,s.wg)(),(0,s.iD)("div",ge,[(0,s._)("p",fe,(0,h.zw)(i.errores),1)])):(0,s.kq)("",!0)],64)}const be=["value","selected"],xe={key:1,class:"w-6 h-6 animate-spin"},we=["src"];function ye(e,t,a,o,i,n){return i.terminado?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,class:"rounded-md",onChange:t[0]||(t[0]=(...e)=>n.emitir&&n.emitir(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>i.id_seleccionado=e)},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.lista,((e,t)=>((0,s.wg)(),(0,s.iD)("option",{value:e.id,key:t,selected:e.id===i.id_seleccionado},(0,h.zw)(e.valor),9,be)))),128))],544)),[[r.bM,i.id_seleccionado]]):((0,s.wg)(),(0,s.iD)("div",xe,[(0,s._)("img",{src:i.arrows_rotate,alt:"arrows rotate"},null,8,we)]))}var ke=a(4161);const De=a(7687);var Ze={name:"Combo",props:{id_prop:{type:Number,required:!1},peticion:{type:String,required:!0},llave:{type:String,required:!0}},mounted(){this.cargar_datos(),this.emitir()},data(){return{terminado:!1,arrows_rotate:De,lista:[],id_seleccionado:1}},methods:{cargar_datos(){try{void 0!==this.id_prop&&(this.id_seleccionado=this.id_prop??1),this.cargar_combo()}catch(e){}},cargar_combo(){this.terminado=!1,ke.Z.get(this.peticion).then((e=>{e.data.result.forEach((e=>{this.lista.push({id:e.id,valor:e[this.llave]})})),this.terminado=!0})).catch((e=>{}))},emitir(){this.$emit("emitido",this.id_seleccionado)}}};const ze=(0,i.Z)(Ze,[["render",ye]]);var Ee=ze,je={name:"FormUsuario",props:{datos:{type:Object,requred:!1},rol_visible:{type:Boolean,required:!1}},components:{Combo:Ee},beforeMount(){this.cargar_datos()},data(){return{get_roles_usuarios:F,id:0,id_persona:0,usuario:"",contrasena:"",id_rol:2,mostrar_errores:!1,errores:"",_rol_visible:!1}},methods:{cargar_datos(){try{this._rol_visible=this.rol_visible??!1,this.id=this.datos.id??0,this.id_persona=this.datos.id_persona??0,this.id_rol=this.datos.id_rol??2,this.usuario=this.datos.usuario??"",this.contrasena=this.datos.contrasena??"",this.emitir_datos()}catch(e){}},capturar_valor(e){this.id_rol=e,this.emitir_datos()},emitir_datos(){let e=this.valores_validos();if(!0===e){this.mostrar_errores=!1,this.errores="";let e={id:this.id,id_persona:this.id_persona,id_rol:this.id_rol,usuario:this.usuario,contrasena:this.contrasena};this.$emit("emitido",e)}else this.mostrar_errores=!0,this.errores=e,this.$emit("emitido",!1)},valores_validos(){let e="",t=/^.{4,}$/,a=/^.{3,}$/;return this.usuario=this.usuario.replace(/\s/g,""),this.contrasena=this.contrasena.replace(/\s/g,""),a.test(this.usuario)||(e+="Usuario debe tener al menos 3 caracteres. "),t.test(this.contrasena)||(e+="Su contrasena debe tener al menos 4 caracteres. "),""===e||e}}};const Ce=(0,i.Z)(je,[["render",ve]]);var Ue=Ce;const Te={class:"backdrop-invert m-3 p-3 rounded-lg"};function qe(e,t,a,r,o,i){return(0,s.wg)(),(0,s.iD)("div",Te,[(0,s.WI)(e.$slots,"default")])}var Oe={name:"Card"};const We=(0,i.Z)(Oe,[["render",qe]]);var Re=We;const Fe={class:"grid grid-flow-dense grid-cols-3 grid-rows-10 gap-y-2"},$e=(0,s._)("label",{class:"col-span-1 font-semibold",for:"cedula"},"Cedula",-1),Ie=(0,s._)("label",{class:"col-span-1 font-semibold",for:"nombres"},"Nombres",-1),He=(0,s._)("label",{class:"col-span-1 font-semibold",for:"apellidos"},"Apellidos",-1),Ve=(0,s._)("label",{class:"col-span-1 font-semibold",for:"fecha"},"Fecha de nacimiento",-1),Ye=(0,s._)("label",{class:"col-span-1 font-semibold",for:"genero"},"genero",-1),Se={key:0,class:"w-60 mx-auto my-3 text-red-700 font-semibold"},Me={class:"break-before-all"};function Pe(e,t,a,o,i,n){const l=(0,s.up)("Combo");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Fe,[$e,(0,s.wy)((0,s._)("input",{class:"col-span-2 px-2 rounded-md",type:"text",id:"cedula","onUpdate:modelValue":t[0]||(t[0]=e=>i.cedula=e),onInput:t[1]||(t[1]=(...e)=>n.emitir_info&&n.emitir_info(...e))},null,544),[[r.nr,i.cedula]]),Ie,(0,s.wy)((0,s._)("input",{class:"col-span-2 px-2 rounded-md",type:"text",id:"nombres","onUpdate:modelValue":t[2]||(t[2]=e=>i.nombres=e),onInput:t[3]||(t[3]=(...e)=>n.emitir_info&&n.emitir_info(...e))},null,544),[[r.nr,i.nombres]]),He,(0,s.wy)((0,s._)("input",{class:"col-span-2 px-2 rounded-md",type:"text",id:"apellidos","onUpdate:modelValue":t[4]||(t[4]=e=>i.apellidos=e),onInput:t[5]||(t[5]=(...e)=>n.emitir_info&&n.emitir_info(...e))},null,544),[[r.nr,i.apellidos]]),Ve,(0,s.wy)((0,s._)("input",{class:"col-span-2 px-2 rounded-md",type:"date",id:"fecha","onUpdate:modelValue":t[6]||(t[6]=e=>i.fecha_nacimiento=e),onInput:t[7]||(t[7]=(...e)=>n.emitir_info&&n.emitir_info(...e))},null,544),[[r.nr,i.fecha_nacimiento]]),Ye,(0,s.Wm)(l,{llave:"genero",peticion:i.get_generos,id_prop:i.id_genero,onEmitido:n.capturar_evento},null,8,["peticion","id_prop","onEmitido"])]),i.mostrar_errores?((0,s.wg)(),(0,s.iD)("div",Se,[(0,s._)("p",Me,(0,h.zw)(i.errores),1)])):(0,s.kq)("",!0)],64)}var Be={name:"FormPersona",props:{datos:{type:Object,required:!1}},beforeMount(){this.cargar_datos()},components:{Combo:Ee},data(){return{id:0,cedula:"",nombres:"",apellidos:"",fecha_nacimiento:"",id_genero:1,mostrar_errores:!1,errores:"",get_generos:O}},methods:{cargar_datos(){if(void 0!==this.datos)try{this.id=this.datos.id??0,this.cedula=this.datos.cedula??"",this.nombres=this.datos.nombres??"",this.apellidos=this.datos.apellidos??"",this.fecha_nacimiento=this.datos.fecha_nacimiento??"",this.id_genero=this.datos.id_genero??1,this.emitir_info()}catch{}},capturar_evento(e){this.id_genero=e,this.emitir_info()},emitir_info(){let e=this.valores_validos();if(!0===e){this.mostrar_errores=!1,this.errores="";let e={id:this.id,cedula:this.cedula,nombres:this.nombres,apellidos:this.apellidos,fecha_nacimiento:this.fecha_nacimiento,id_genero:this.id_genero};this.$emit("emitido",e)}else this.mostrar_errores=!0,this.errores=e},valores_validos(){let e="",t=/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/,a=/^\d{10}$/,r=/^\d{4}-(0[1-9]|1[0-2])-([0-2][1-9]|3[01])$/;return this.cedula=this.cedula.replace(/\s/g,""),a.test(this.cedula)||(e+="Campo -cedula- no valido. "),t.test(this.nombres)||(e+="Campo -nombres- no valido. "),t.test(this.apellidos)||(e+="Campo -apellidos- no valido. "),r.test(this.fecha_nacimiento)||(e+="Campo -fecha- no valido. "),""===e||e}}};const Ke=(0,i.Z)(Be,[["render",Pe]]);var Le=Ke,Ne={name:"RegistroView",components:{Toolbar:D,Card:Re,FormPersona:Le,FormUsuario:Ue},beforeMount(){window.addEventListener("beforeunload",this.eliminar_persona)},beforeUnmount(){window.removeEventListener("beforeunload",this.eliminar_persona),this.eliminar_persona()},data(){return{datos:{titulo:"Biolab",enlaces:[{titulo:"Examenes",ruta:E}],primarios:[{titulo:"Iniciar Sesion",ruta:j},{titulo:"Regresar",ruta:Z}]},persona:void 0,mensaje:"",datos_usuario:{id:0,id_persona:0,id_rol:2,usuario:"",contrasena:""},persona_creada:!1,usuario_creado:!1,cargando:!1,arrows_rotate:De}},methods:{capturar_persona(e){this.persona=e},capturar_usuario(e){this.datos_usuario=e},crear_persona(){if(1!=this.persona_creada)if(void 0!==this.persona){this.mensaje="";let e=W;this.cargando=!0,ke.Z.post(e,{parameter:{id:0,cedula:this.persona.cedula,nombres:this.persona.nombres,apellidos:this.persona.apellidos,fecha_nacimiento:this.persona.fecha_nacimiento,id_genero:this.persona.id_genero}}).then((e=>{this.persona_creada=!0,this.persona=e.data.result,this.mensaje="datos personales registrados",this.cargando=!1,this.crear_usuario(this.persona)})).catch((e=>{this.cargando=!1,this.mensaje="error al registrar datos personales"}))}else this.mensaje="no se puede hacer la peticion";else this.crear_usuario(this.persona)},crear_usuario(e){0!=this.datos_usuario&&(this.datos_usuario.id_persona=e.id,this.cargando=!0,ke.Z.post(R,{parameter:this.datos_usuario}).then((e=>{this.mensaje="se ha registrado el usuario",this.usuario_creado=!0,this.cargando=!1,this.$router.push(j)})).catch((e=>{this.cargando=!1,this.mensaje="error al registrar usuario"})))},eliminar_persona(e){if(0==this.usuario_creado)try{let e=$+this.persona.id;ke.Z.delete(e)}catch(t){}}}};const Qe=(0,i.Z)(Ne,[["render",ce]]);var Ae=Qe;const Ge={class:"container mx-auto"},Je=(0,s._)("br",null,null,-1),Xe=(0,s._)("div",{class:"mx-5 sm:mx-24"},[(0,s._)("div",{class:"p-3 text-gray-400"}," Examenes disponibles - tabla con los examenes disponibles ")],-1);function et(e,t,a,r,o,i){const n=(0,s.up)("Toolbar");return(0,s.wg)(),(0,s.iD)("div",Ge,[(0,s.Wm)(n,{datos:o.datos},null,8,["datos"]),Je,Xe])}var tt={name:"ExamenesView",components:{Toolbar:D},data(){return{datos:{titulo:"Biolab",enlaces:[],primarios:[{titulo:"Registrarse",ruta:z},{titulo:"Iniciar Sesion",ruta:j}]}}}};const at=(0,i.Z)(tt,[["render",et]]);var rt=at;const st={class:"container mx-auto"},ot=(0,s._)("br",null,null,-1),it={class:"mx-5 sm:mx-24"},nt={class:"p-3 text-gray-400"},lt=(0,s._)("h2",{class:"text-2xl"},"Login",-1),dt=(0,s._)("h2",{class:"text-xl"},"Ingresa al sistema",-1),ut=(0,s._)("br",null,null,-1),ct=(0,s._)("h2",{class:"font-bold"},"Login",-1),mt=(0,s._)("br",null,null,-1),_t=(0,s._)("br",null,null,-1),pt={class:"flex flex-row-reverse gap-3"},ht=["src"],gt={class:"font-semibold italic"};function ft(e,t,a,r,o,i){const n=(0,s.up)("Toolbar"),l=(0,s.up)("FormUsuario"),d=(0,s.up)("Card");return(0,s.wg)(),(0,s.iD)("div",st,[(0,s.Wm)(n,{datos:o.datos},null,8,["datos"]),ot,(0,s._)("div",it,[(0,s._)("div",nt,[lt,dt,ut,(0,s.Wm)(d,{class:"text-gray-800 font-sans w-fit mx-auto"},{default:(0,s.w5)((()=>[ct,mt,(0,s.Wm)(l,{onEmitido:i.capturar_usuario},null,8,["onEmitido"]),_t,(0,s._)("div",pt,[o.cargando?((0,s.wg)(),(0,s.iD)("img",{key:1,class:"w-6 h-6 animate-spin",src:o.arrows_rotate,alt:"arrows rotate"},null,8,ht)):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"active:translate-x-3 animation ease-in-out duration-200 hover:bg-green-500 hover:text-gray-800 rounded-md p-2 bg-emerald-600 text-gray-200",onClick:t[0]||(t[0]=e=>i.autenticar())},"Ingresar"))]),(0,s._)("div",null,[(0,s._)("p",gt,(0,h.zw)(o.mensaje),1)])])),_:1})])])])}var vt=a(1020);const bt=(0,vt.Q_)("session",{state:()=>({usuario:void 0,contrasena:void 0,id_rol:void 0}),actions:{nuevaSesion(e){this.usuario=e.usuario,this.contrasena=e.contrasena,this.id_rol=e.id_rol},terminarSesion(){this.usuario=void 0,this.contrasena=void 0,this.id_rol=void 0}}});var xt={name:"LoginView",components:{Toolbar:D,Card:Re,FormUsuario:Ue},data(){return{datos:{titulo:"Biolab",enlaces:[{titulo:"Examenes",ruta:E}],primarios:[{titulo:"Registrarse",ruta:z},{titulo:"Regresar",ruta:Z}]},usuario_capturado:void 0,cargando:!1,arrows_rotate:De,mensaje:"",sesion:bt()}},methods:{capturar_usuario(e){this.mensaje="",0!=e&&(this.usuario_capturado=e)},autenticar(){this.mensaje="",this.cargando=!0,ke.Z.post(I,{parameter:this.usuario_capturado}).then((e=>{let t=e.data.result;0!=t?(this.mensaje="autenticado",this.validar_tipo_usuario(t)):this.mensaje="credenciales incorrectas",this.cargando=!1})).catch((e=>{this.cargando=!1,this.mensaje="ocurrio un error"}))},validar_tipo_usuario(e){1==e.id_rol?(this.sesion.nuevaSesion(e),this.$router.push(C)):2==e.id_rol&&console.log("entra paciente")}}};const wt=(0,i.Z)(xt,[["render",ft]]);var yt=wt;const kt={class:"container mx-auto"},Dt={class:"flex flex-row-reverse px-3 mt-2 gap-2 text-gray-400"},Zt=(0,s._)("br",null,null,-1),zt={class:"mx-5 sm:mx-24"};function Et(e,t,a,r,o,i){const n=(0,s.up)("Toolbar"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",kt,[(0,s.Wm)(n,{datos:o.datos_toolbar},null,8,["datos"]),(0,s._)("div",Dt,[(0,s._)("button",{class:"animation ease-in-out duration-300 ring-teal-600 hover:ring hover:bg-teal-900 hover:text-gray-200 p-1 rounded-md",onClick:t[0]||(t[0]=(...e)=>i.terminar_sesion&&i.terminar_sesion(...e))}," Terminar sesion ")]),Zt,(0,s._)("div",zt,[(0,s.Wm)(l)])])}var jt={name:"InicioView",components:{Toolbar:D},data(){return{sesion:bt(),datos_toolbar:Ct}},methods:{verificar_sesion(){void 0==this.sesion.usuario&&this.$router.push(Z),1!=this.sesion.id_rol&&this.$router.push(Z)},terminar_sesion(){this.sesion.terminarSesion(),this.verificar_sesion()}},beforeMount(){this.verificar_sesion()}};const Ct={titulo:"biolab",enlaces:[{titulo:"Examenes de pacientes",ruta:U},{titulo:"Examenes",ruta:T},{titulo:"Pacientes",ruta:q}],primarios:[]},Ut=(0,i.Z)(jt,[["render",Et]]);var Tt=Ut;const qt=(0,s._)("h3",{class:"text-gray-200 font-sans text-xl capitalize"},"Todos los examenes de los pacientes",-1),Ot=(0,s._)("br",null,null,-1),Wt=(0,s._)("br",null,null,-1),Rt={key:0,class:"flex flex-row-reverse"};function Ft(e,t,a,r,o,i){const n=(0,s.up)("Tabla"),l=(0,s.up)("DetalleExamen");return(0,s.wg)(),(0,s.iD)(s.HY,null,[qt,Ot,(0,s.Wm)(n,{mostrar:o.terminado_examenes,datos:o.tabla_examenes,onRecargar:i.recargar,onFila:i.capturar_fila},null,8,["mostrar","datos","onRecargar","onFila"]),Wt,o.mostrar_detalle?((0,s.wg)(),(0,s.iD)("div",Rt,[(0,s._)("button",{class:"rounded-md bg-red-600 p-1 text-gray-100 hover:bg-red-700",onClick:t[0]||(t[0]=e=>o.mostrar_detalle=!o.mostrar_detalle)},"Cerrar")])):(0,s.kq)("",!0),o.mostrar_detalle?((0,s.wg)(),(0,s.j4)(l,{key:1,fila:o.fila},null,8,["fila"])):(0,s.kq)("",!0)],64)}const $t={key:0},It={class:"flex flex-row-reverse"},Ht={class:"overflow-x-auto rounded-lg border border-gray-700"},Vt={class:"min-w-full divide-y-2 divide-gray-700 bg-gray-200 text-sm"},Yt={class:"ltr:text-left rtl:text-right"},St={class:"divide-y divide-gray-700"},Mt=["onClick"],Pt={key:1,class:"w-10 h-10 p-2 mx-auto animate-spin bg-gray-300 rounded-full"},Bt=["src"];function Kt(e,t,a,r,o,i){return a.mostrar?((0,s.wg)(),(0,s.iD)("div",$t,[(0,s._)("div",It,[(0,s._)("button",{class:"mb-2 px-2 py-1 border-b-2 border-cyan-500 text-gray-300 animation duration-300 hover:bg-cyan-500 hover:text-gray-100 hover:rounded-md active:bg-cyan-700",onClick:t[0]||(t[0]=(...e)=>i.emitir_evento&&i.emitir_evento(...e))},"Refrescar tabla")]),(0,s._)("div",Ht,[(0,s._)("table",Vt,[(0,s._)("thead",Yt,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.titulos,((e,t)=>((0,s.wg)(),(0,s.iD)("th",{class:"whitespace-nowrap px-4 py-2 font-medium text-gray-900 uppercase",key:t},(0,h.zw)(e),1)))),128))])]),(0,s._)("tbody",St,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.registros,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{class:"animation duration-200 hover:bg-gray-400 bg-gray-100 hover:cursor-pointer",key:t},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.titulos,((t,a)=>((0,s.wg)(),(0,s.iD)("td",{onClick:t=>i.emitir_fila(e),class:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",key:a},(0,h.zw)(e[t]),9,Mt)))),128))])))),128))])])])])):((0,s.wg)(),(0,s.iD)("div",Pt,[(0,s._)("img",{src:o.arrows_rotate,alt:"arrows rotate"},null,8,Bt)]))}var Lt={name:"Tabla",props:{datos:{type:Object,required:!0},mostrar:{type:Boolean,required:!0}},data(){return{registros:void 0,titulos:void 0,arrows_rotate:De}},methods:{cargar_tabla(){try{this.titulos=this.datos.titulos,this.registros=this.datos.registros}catch(e){this.registros=[],this.titulos=[]}},emitir_evento(){this.$emit("recargar",!0)},emitir_fila(e){this.$emit("fila",e)}},mounted(){this.cargar_tabla()},watch:{mostrar(){this.cargar_tabla()}}};const Nt=(0,i.Z)(Lt,[["render",Kt]]);var Qt=Nt;const At={key:0},Gt=(0,s._)("h3",{class:"text-gray-200 font-sans text-xl capitalize"},"Detalle del examen",-1),Jt=(0,s._)("hr",null,null,-1),Xt={class:"text-gray-200 text-xl mb-20"},ea={class:"flex flex-row-reverse font-bold"},ta={class:"flex flex-row-reverse font-bold"},aa=(0,s._)("br",null,null,-1),ra=["src"],sa={class:"text-sky-500 font-semibold"},oa={class:"text-gray-200 font-semibold uppercase"},ia={class:"border-l-4 pl-2 border-sky-500 text-sm"},na=(0,s._)("strong",null,"Identificacion: ",-1),la=(0,s._)("strong",null,"Fecha de nacimiento: ",-1),da=(0,s._)("strong",null,"Edad: ",-1),ua=(0,s._)("strong",null,"Genero: ",-1),ca={class:"flex flex-row-reverse"},ma=(0,s._)("strong",null,"Fecha de ingreso: ",-1),_a=(0,s._)("br",null,null,-1),pa=(0,s._)("div",null,[(0,s._)("h4",{class:"mx-auto w-fit font-semibold"},"Informe de resultados")],-1),ha=(0,s._)("br",null,null,-1),ga={class:"text-sm border-l-4 border-green-500 pl-2"},fa={class:"uppercase font-semibold text-gray-300"},va=(0,s._)("h4",null,[(0,s._)("strong",null,"Razon del examen")],-1),ba={class:"text-justify text-gray-400"},xa=(0,s._)("br",null,null,-1),wa={class:"overflow-x-auto text-sm rounded-lg bg-stone-700 p-2"},ya={class:"table-auto divide-y-2 divide-stone-400"},ka=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"px-2"},"Tipo de Examen"),(0,s._)("th",{class:"px-2"},"Estado"),(0,s._)("th",{class:"px-2"},"V. Referencia"),(0,s._)("th",{class:"px-2"},"Resultados"),(0,s._)("th",{class:"px-2"},"Observaciones")])],-1),Da={class:"p-2"},Za={class:"p-2"},za={class:"p-2"},Ea={class:"p-2"},ja={class:"p-2"},Ca=(0,s._)("br",null,null,-1),Ua={class:"text-sm border-l-4 border-green-500 pl-2"},Ta=(0,s._)("h4",null,[(0,s._)("strong",null,"Observaciones")],-1),qa={class:"text-justify text-gray-400"},Oa=(0,s._)("br",null,null,-1),Wa=["src"],Ra=(0,s._)("hr",null,null,-1),Fa={key:1,class:"w-10 h-10 p-2 mx-auto animate-spin bg-gray-300 rounded-full"},$a=["src"];function Ia(e,t,a,r,o,i){return o.mostrar?((0,s.wg)(),(0,s.iD)("div",At,[Gt,Jt,(0,s._)("div",Xt,[(0,s._)("h3",ea,(0,h.zw)(o.institucion.institucion),1),(0,s._)("h3",ta,(0,h.zw)(o.institucion.ubicacion),1),aa,(0,s._)("img",{class:"w-32 rounded-md ring-1 ring-sky-500",src:o.institucion.path_img,alt:"logo laboratorio"},null,8,ra),(0,s._)("h4",sa,"Examen No. "+(0,h.zw)(o.examen.id),1),(0,s._)("h4",oa,(0,h.zw)(o.persona.nombres)+" "+(0,h.zw)(o.persona.apellidos),1),(0,s._)("div",ia,[(0,s._)("h5",null,[na,(0,s.Uk)(" "+(0,h.zw)(o.persona.cedula),1)]),(0,s._)("h5",null,[la,(0,s.Uk)(" "+(0,h.zw)(o.persona.fecha_nacimiento),1)]),(0,s._)("h5",null,[da,(0,s.Uk)(" "+(0,h.zw)(o.persona.edad),1)]),(0,s._)("h5",null,[ua,(0,s.Uk)(" "+(0,h.zw)(o.genero.genero),1)]),(0,s._)("div",ca,[(0,s._)("h5",null,[ma,(0,s.Uk)((0,h.zw)(o.examen.fecha_realiza),1)])])]),_a,pa,ha,(0,s._)("div",ga,[(0,s._)("h5",fa,(0,h.zw)(o.examen.examen),1),va,(0,s._)("p",ba,(0,h.zw)(o.examen.motivo),1)]),xa,(0,s._)("div",wa,[(0,s._)("table",ya,[ka,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.detalle,((e,t)=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",Da,(0,h.zw)(e.tipo),1),(0,s._)("td",Za,(0,h.zw)(e.estado),1),(0,s._)("td",za,(0,h.zw)(e.referencia),1),(0,s._)("td",Ea,(0,h.zw)(e.resultado),1),(0,s._)("td",ja,(0,h.zw)(e.observacion),1)])))),128))])])]),Ca,(0,s._)("div",Ua,[Ta,(0,s._)("p",qa,(0,h.zw)(o.examen.observacion),1)]),Oa,(0,s._)("img",{class:"rounded-lg",src:o.qr_url,alt:"qr"},null,8,Wa)]),Ra])):((0,s.wg)(),(0,s.iD)("div",Fa,[(0,s._)("img",{src:o.arrows_rotate,alt:"arrows rotate"},null,8,$a)]))}const Ha={async get_instituciones(){try{let e=await ke.Z.get(S);return e.data.result}catch(e){return!1}},async get_instituciones_id(e){try{let t=await ke.Z.get(S+e);return t.data.result}catch(t){return!1}}},Va={async get_estados(){try{let e=await ke.Z.get(M);return e.data.result}catch(e){return!1}}},Ya={async get_personas(){try{let e=await ke.Z.get(Y);return e.data.result}catch(e){return!1}},async get_persona_id(e){try{let t=await ke.Z.get(Y+e);return t.data.result}catch(t){return!1}}},Sa={async get_examenes(){try{let e=await ke.Z.get(H);return e.data.result}catch(e){return!1}},async get_examen_id(e){try{let t=await ke.Z.get(V+e);return t.data.result}catch(t){return!1}}},Ma={async get_generos(){try{let e=await ke.Z.get(O);return e.data.result}catch(e){return!1}},async get_genero_id(e){try{let t=await ke.Z.get(O+e);return t.data.result}catch(t){return!1}}},Pa={async get_tipos(){try{let e=await ke.Z.get(P);return e.data.result}catch(e){return!1}},async get_tipos_id(e){try{let t=await ke.Z.get(P+e);return t.data.result}catch(t){return!1}}},Ba={async get_detalle(){try{let e=await ke.Z.get(B);return e.data.result}catch(e){return!1}},async get_detalle_id(e){try{let t=await ke.Z.get(B+e);return t.data.result}catch(t){return!1}}};function Ka(e){const t=new Date,a=new Date(e);let r=t.getFullYear()-a.getFullYear();const s=t.getMonth(),o=t.getDate(),i=a.getMonth(),n=a.getDate();return(s<i||s===i&&o<n)&&r--,r}var La=a(8385),Na={name:"DetalleExamen",props:{fila:{type:Object,required:!0}},data(){return{mostrar:!1,arrows_rotate:De,institucion:{},examen:{},persona:{},genero:{},tipo_examen:{},detalle:[],qr_url:""}},methods:{reestablecer(){this.institucion={},this.examen={},this.persona={},this.genero={},this.tipo_examen={},this.detalle=[],this.qr_url=""},crearQR(e){let t=this;e=JSON.stringify(e),La.toDataURL(e,(function(e,a){t.qr_url=a}))},async cargar_datos(){this.mostrar=!1;try{this.reestablecer(),this.examen=await Sa.get_examen_id(this.fila.id),this.institucion=await Ha.get_instituciones_id(this.examen.id_institucion),this.persona=await Ya.get_persona_id(this.examen.id_persona),this.persona.edad=Ka(this.persona.fecha_nacimiento),this.genero=await Ma.get_genero_id(this.persona.id_genero);let e=await Pa.get_tipos(),t=await Va.get_estados(),a=await Ba.get_detalle();a.forEach((a=>{if(a.id_examen==this.examen.id){let r=e.find((e=>e.id==a.id_tipo));a.tipo=r.tipo,a.referencia=r.referencia;let s=t.find((e=>e.id==a.id_estado));a.estado=s.estado,this.detalle.push(a)}}));let r={};r.id_examen=this.fila.id,this.crearQR(r)}catch(e){console.log(e)}this.mostrar=!0}},mounted(){this.cargar_datos()},watch:{fila(){console.log(this.fila),this.cargar_datos()}}};const Qa=(0,i.Z)(Na,[["render",Ia]]);var Aa=Qa,Ga={name:"ExamenesPacientes",components:{Tabla:Qt,DetalleExamen:Aa},data(){return{tabla_examenes:{titulos:void 0,registros:void 0},terminado_examenes:!1,personas:void 0,instituciones:void 0,estados:void 0,fila:{},mostrar_detalle:!1}},methods:{async cargar_examenes(){this.terminado_examenes=!1;try{this.personas=await Ya.get_personas(),this.instituciones=await Ha.get_instituciones(),this.estados=await Va.get_estados(),this.tabla_examenes.titulos=["id","institucion","nombres","apellidos","estado","examen","motivo","fecha_realiza","observacion"],this.tabla_examenes.registros=await Sa.get_examenes(),this.tabla_examenes.registros.forEach((e=>{let t=this.personas.find((t=>t.id==e.id_persona));e.nombres=t.nombres,e.apellidos=t.apellidos,t=this.instituciones.find((t=>t.id==e.id_institucion)),e.institucion=t.institucion,t=this.estados.find((t=>t.id==e.id_estado)),e.estado=t.estado}))}catch(e){}this.terminado_examenes=!0},recargar(){this.cargar_examenes()},capturar_fila(e){this.mostrar_detalle=!0,this.fila=e}},mounted(){this.cargar_examenes()}};const Ja=(0,i.Z)(Ga,[["render",Ft]]);var Xa=Ja;function er(e,t,a,r,o,i){return(0,s.wg)(),(0,s.iD)("div",null," disponibles ")}var tr={name:"ExamenesDisponibles"};const ar=(0,i.Z)(tr,[["render",er]]);var rr=ar;const sr=(0,s._)("h3",{class:"text-gray-200 font-sans text-xl capitalize"},"Todos los examenes de los pacientes",-1),or=(0,s._)("br",null,null,-1);function ir(e,t,a,r,o,i){const n=(0,s.up)("Tabla");return(0,s.wg)(),(0,s.iD)(s.HY,null,[sr,or,(0,s.Wm)(n,{mostrar:o.termino_pacientes,datos:o.pacientes},null,8,["mostrar","datos"])],64)}var nr={name:"Pacientes",components:{Tabla:Qt},data(){return{pacientes:{titulos:void 0,registros:void 0},termino_pacientes:!1,generos:void 0}},methods:{cargar_personas(){this.termino_pacientes=!1;try{this.cargar_generos(),ke.Z.get(Y).then((e=>{this.pacientes.titulos=["id","cedula","nombres","apellidos","fecha_nacimiento","genero"],this.pacientes.registros=e.data.result,this.pacientes.registros.forEach((e=>{let t=this.generos.find((t=>t.id==e.id_genero));e.genero=t.genero})),this.termino_pacientes=!0})).catch((e=>{this.termino_pacientes=!0}))}catch(e){this.termino_pacientes=!0}},cargar_generos(){try{ke.Z.get(O).then((e=>{this.generos=e.data.result})).catch((e=>{}))}catch(e){}}},mounted(){this.cargar_personas()}};const lr=(0,i.Z)(nr,[["render",ir]]);var dr=lr;const ur=[{path:"/",name:"home",component:N},{path:"/registro",name:"registro",component:Ae},{path:"/examenes_disponibles",name:"examenes_disponibles",component:rt},{path:"/login",name:"login",component:yt},{path:"/inicio",name:"inicio",component:Tt,children:[{path:"examenes",name:"examenes",component:Xa},{path:"disponibles",name:"disponibles",component:rr},{path:"pacientes",name:"pacientes",component:dr}]}],cr=(0,u.p7)({history:(0,u.PO)("/"),routes:ur});var mr=cr;const _r=(0,vt.WB)(),pr=(0,r.ri)(d);pr.use(mr),pr.use(_r),pr.mount("#app")},7687:function(e,t,a){e.exports=a.p+"img/arrows-rotate-solid.6e18a51d.svg"}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,s,o){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],s=e[u][1],o=e[u][2];for(var n=!0,l=0;l<r.length;l++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[l])}))?r.splice(l--,1):(n=!1,o<i&&(i=o));if(n){e.splice(u--,1);var d=s();void 0!==d&&(t=d)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,s,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,o,i=r[0],n=r[1],l=r[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(l)var u=l(a)}for(t&&t(r);d<i.length;d++)o=i[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},r=self["webpackChunkexamenes"]=self["webpackChunkexamenes"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(5553)}));r=a.O(r)})();
//# sourceMappingURL=app.a344af5e.js.map