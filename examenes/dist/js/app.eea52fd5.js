(function(){var e={3451:function(e,a,t){"use strict";var n=t(9242),s=t(3396);function r(e,a){const t=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(t)}var o=t(89);const i={},l=(0,o.Z)(i,[["render",r]]);var d=l,u=t(2483),c=t(7139);const _={class:"container mx-auto"},m=(0,s._)("br",null,null,-1),p={class:"mx-5 sm:mx-24"},g={class:"p-3 text-gray-200 text-xl font-sans"},h={class:"text-4xl font-sans"},x=["src"],b=(0,s._)("br",null,null,-1),v={class:"border-l-4 border-teal-500 pl-2"},f=(0,s._)("h3",null,[(0,s._)("strong",null,"Quienes somos ?")],-1),w={class:"text-justify text-lg"},y=(0,s._)("br",null,null,-1),k={class:""};function D(e,a,t,n,r,o){const i=(0,s.up)("Toolbar");return(0,s.wg)(),(0,s.iD)("div",_,[(0,s.Wm)(i,{datos:r.datos},null,8,["datos"]),m,(0,s._)("div",p,[(0,s._)("div",g,[(0,s._)("h2",h,[(0,s.Uk)("Somos "),(0,s._)("strong",null,(0,c.zw)(r.institucion.institucion),1)]),(0,s._)("img",{class:"rounded-lg m-2",src:r.institucion.path_img,alt:"logo"},null,8,x),(0,s._)("h3",null,(0,c.zw)(r.institucion.razon_social),1),b,(0,s._)("div",v,[f,(0,s._)("p",w,(0,c.zw)(r.institucion.descripcion),1),y,(0,s._)("h3",k,"Encuentranos en: "+(0,c.zw)(r.institucion.ubicacion),1)])])])])}const z={class:"font-sans bg-sky-500 rounded-b-lg p-3 flex-wrap sm:flex gap-3"},E={class:"text-2xl font-medium p-2 animation ease-in-out duration-300 hover:text-emerald-200"},U={class:"grow"},C={class:"flex gap-3 text-sky-950"},j={class:"flex gap-3 text-gray-200"};function V(e,a,t,n,r,o){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",z,[(0,s._)("h1",E,[(0,s.Wm)(i,{to:"/"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(t.datos.titulo),1)])),_:1})]),(0,s._)("div",U,[(0,s._)("nav",null,[(0,s._)("ul",C,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.datos.enlaces,((e,a)=>((0,s.wg)(),(0,s.iD)("li",{class:"shadow-md rounded-lg p-2 animation ease-in-out duration-150 hover:translate-y-1 hover:shadow-none hover:text-black",key:a},[(0,s.Wm)(i,{to:e.ruta},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e.titulo),1)])),_:2},1032,["to"])])))),128))])])]),(0,s._)("div",null,[(0,s._)("nav",null,[(0,s._)("ul",j,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.datos.primarios,((e,a)=>((0,s.wg)(),(0,s.iD)("li",{class:"shadow-md rounded-lg p-2 bg-emerald-600 animation ease-in-out duration-150 hover:translate-y-1 hover:shadow-none hover:text-white",key:a},[(0,s.Wm)(i,{to:e.ruta},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)(e.titulo),1)])),_:2},1032,["to"])])))),128))])])])])}var Z={name:"Toolbar",props:{datos:{type:Object,required:!0}}};const T=(0,o.Z)(Z,[["render",V]]);var W=T;const q="/",F="/registro",R="/examenes_disponibles",S="/login",O="https://examenes-test.onrender.com/resumen/",I="/inicio",$=I+"/examenes",P=I+"/administrar",Y=P+"/nuevo_examen",H=P+"/nuevo_detalle",M=P+"/eliminar_examen",N=I+"/pacientes",B="/inicio_paciente",A="https://api-servicios-xprm.onrender.com",K=A+"/genero/get/",L=A+"/persona/create",G=A+"/usuario/create",Q=A+"/rol_usuario/get",J=A+"/persona/delete/",X=A+"/usuario/autenticar/",ee=A+"/examen/get/",ae=A+"/examen/get/",te=A+"/persona/get/",ne=A+"/institucion/get/",se=A+"/estado_examen/get/",re=A+"/tipo_examen/get/",oe=A+"/detalle/get/",ie=A+"/examen/create",le=A+"/detalle/create",de=A+"/examen/delete/";var ue=t(4161);const ce={async get_instituciones(){try{let e=await ue.Z.get(ne);return e.data.result}catch(e){return!1}},async get_instituciones_id(e){try{let a=await ue.Z.get(ne+e);return a.data.result}catch(a){return!1}}},_e={async get_estados(){try{let e=await ue.Z.get(se);return e.data.result}catch(e){return!1}}},me={async get_personas(){try{let e=await ue.Z.get(te);return e.data.result}catch(e){return!1}},async get_persona_id(e){try{let a=await ue.Z.get(te+e);return a.data.result}catch(a){return!1}}},pe={async get_examenes(){try{let e=await ue.Z.get(ee);return e.data.result}catch(e){return!1}},async get_examen_id(e){try{let a=await ue.Z.get(ae+e);return a.data.result}catch(a){return!1}},async create_examen(e){try{let a=await ue.Z.post(ie,{parameter:e});return a.data.result}catch(a){return!1}},async delete(e){try{let a=await ue.Z.delete(de+e);return a.data.result}catch(a){return!1}}},ge={async get_generos(){try{let e=await ue.Z.get(K);return e.data.result}catch(e){return!1}},async get_genero_id(e){try{let a=await ue.Z.get(K+e);return a.data.result}catch(a){return!1}}},he={async get_tipos(){try{let e=await ue.Z.get(re);return e.data.result}catch(e){return!1}},async get_tipos_id(e){try{let a=await ue.Z.get(re+e);return a.data.result}catch(a){return!1}}},xe={async get_detalle(){try{let e=await ue.Z.get(oe);return e.data.result}catch(e){return!1}},async get_detalle_id(e){try{let a=await ue.Z.get(oe+e);return a.data.result}catch(a){return!1}},async create(e){try{let a=await ue.Z.post(le,{parameter:e});return a.data.result}catch(a){return!1}}};var be={name:"HomeView",components:{Toolbar:W},data(){return{datos:{titulo:"Biolab",enlaces:[{titulo:"Examenes",ruta:R}],primarios:[{titulo:"Registrarse",ruta:F},{titulo:"Iniciar Sesion",ruta:S}]},institucion:{institucion:""}}},methods:{async cargar_institucion(){this.institucion=await ce.get_instituciones(),this.institucion=this.institucion[0],this.datos.titulo=this.institucion.institucion,console.log(this.institucion)}},mounted(){this.cargar_institucion()}};const ve=(0,o.Z)(be,[["render",D]]);var fe=ve;const we={class:"container mx-auto font-sans"},ye=(0,s._)("br",null,null,-1),ke={class:"mx-5 sm:mx-24"},De={class:"p-3 text-gray-400"},ze=(0,s._)("h2",{class:"text-2xl"},"Registro",-1),Ee=(0,s._)("h2",{class:"text-xl"},"Crea tu usuario",-1),Ue=(0,s._)("br",null,null,-1),Ce=(0,s._)("h2",{class:"font-bold"},"Registro",-1),je=(0,s._)("br",null,null,-1),Ve=(0,s._)("br",null,null,-1),Ze=(0,s._)("hr",null,null,-1),Te=(0,s._)("br",null,null,-1),We=(0,s._)("br",null,null,-1),qe={class:"flex flex-row-reverse gap-3"},Fe=["src"],Re={class:"font-semibold italic"};function Se(e,a,t,n,r,o){const i=(0,s.up)("Toolbar"),l=(0,s.up)("FormPersona"),d=(0,s.up)("FormUsuario"),u=(0,s.up)("Card");return(0,s.wg)(),(0,s.iD)("div",we,[(0,s.Wm)(i,{datos:r.datos},null,8,["datos"]),ye,(0,s._)("div",ke,[(0,s._)("div",De,[ze,Ee,Ue,(0,s.Wm)(u,{class:"text-gray-800 font-sans w-fit mx-auto"},{default:(0,s.w5)((()=>[Ce,je,(0,s.Wm)(l,{onEmitido:o.capturar_persona},null,8,["onEmitido"]),Ve,Ze,Te,(0,s.Wm)(d,{rol_visible:"true",onEmitido:o.capturar_usuario},null,8,["onEmitido"]),We,(0,s._)("div",qe,[r.cargando?((0,s.wg)(),(0,s.iD)("img",{key:1,class:"w-6 h-6 animate-spin",src:r.arrows_rotate,alt:"arrows rotate"},null,8,Fe)):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"active:translate-x-3 animation ease-in-out duration-200 hover:bg-green-500 hover:text-gray-800 rounded-md p-2 bg-emerald-600 text-gray-200",onClick:a[0]||(a[0]=(...e)=>o.crear_persona&&o.crear_persona(...e))},"Siguiente"))]),(0,s._)("div",null,[(0,s._)("p",Re,(0,c.zw)(r.mensaje),1)])])),_:1})])])])}t(7658);const Oe={class:"grid grid-flow-dense grid-cols-3 grid-rows-10 gap-y-2"},Ie=(0,s._)("label",{class:"col-span-1 font-semibold",for:"usuario"},"usuario",-1),$e=(0,s._)("label",{class:"col-span-1 font-semibold",for:"contrasena"},"contrasena",-1),Pe={key:0,class:"col-span-1 font-semibold",for:"rol"},Ye={key:0,class:"w-80 mx-auto my-3 text-red-700 font-semibold"},He={class:"break-before-all"};function Me(e,a,t,r,o,i){const l=(0,s.up)("Combo");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Oe,[Ie,(0,s.wy)((0,s._)("input",{class:"col-span-2 px-2 rounded-md",type:"text",id:"usuario","onUpdate:modelValue":a[0]||(a[0]=e=>o.usuario=e),onInput:a[1]||(a[1]=(...e)=>i.emitir_datos&&i.emitir_datos(...e))},null,544),[[n.nr,o.usuario]]),$e,(0,s.wy)((0,s._)("input",{class:"col-span-2 px-2 rounded-md",type:"password",id:"contrasena","onUpdate:modelValue":a[2]||(a[2]=e=>o.contrasena=e),onInput:a[3]||(a[3]=(...e)=>i.emitir_datos&&i.emitir_datos(...e))},null,544),[[n.nr,o.contrasena]]),o._rol_visible?((0,s.wg)(),(0,s.iD)("label",Pe,"rol")):(0,s.kq)("",!0),o._rol_visible?((0,s.wg)(),(0,s.j4)(l,{key:1,llave:"rol",id_prop:o.id_rol,onEmitido:i.capturar_valor,peticion:o.get_roles_usuarios},null,8,["id_prop","onEmitido","peticion"])):(0,s.kq)("",!0)]),o.mostrar_errores?((0,s.wg)(),(0,s.iD)("div",Ye,[(0,s._)("p",He,(0,c.zw)(o.errores),1)])):(0,s.kq)("",!0)],64)}const Ne=["value","selected"],Be={key:1,class:"w-6 h-6 animate-spin"},Ae=["src"];function Ke(e,a,t,r,o,i){return o.terminado?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,class:"rounded-md",onChange:a[0]||(a[0]=(...e)=>i.emitir&&i.emitir(...e)),"onUpdate:modelValue":a[1]||(a[1]=e=>o.id_seleccionado=e)},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.lista,((e,a)=>((0,s.wg)(),(0,s.iD)("option",{value:e.id,key:a,selected:e.id===o.id_seleccionado},(0,c.zw)(e.valor),9,Ne)))),128))],544)),[[n.bM,o.id_seleccionado]]):((0,s.wg)(),(0,s.iD)("div",Be,[(0,s._)("img",{src:o.arrows_rotate,alt:"arrows rotate"},null,8,Ae)]))}const Le=t(7687);var Ge={name:"Combo",props:{id_prop:{type:Number,required:!1},peticion:{type:String,required:!0},llave:{type:String,required:!0}},mounted(){this.cargar_datos(),this.emitir()},data(){return{terminado:!1,arrows_rotate:Le,lista:[],id_seleccionado:1}},methods:{cargar_datos(){try{void 0!==this.id_prop&&(this.id_seleccionado=this.id_prop??1),this.cargar_combo()}catch(e){}},cargar_combo(){this.terminado=!1,ue.Z.get(this.peticion).then((e=>{e.data.result.forEach((e=>{this.lista.push({id:e.id,valor:e[this.llave]})})),this.terminado=!0})).catch((e=>{}))},emitir(){this.$emit("emitido",this.id_seleccionado)}}};const Qe=(0,o.Z)(Ge,[["render",Ke]]);var Je=Qe,Xe={name:"FormUsuario",props:{datos:{type:Object,requred:!1},rol_visible:{type:Boolean,required:!1}},components:{Combo:Je},beforeMount(){this.cargar_datos()},data(){return{get_roles_usuarios:Q,id:0,id_persona:0,usuario:"",contrasena:"",id_rol:2,mostrar_errores:!1,errores:"",_rol_visible:!1}},methods:{cargar_datos(){try{this._rol_visible=this.rol_visible??!1,this.id=this.datos.id??0,this.id_persona=this.datos.id_persona??0,this.id_rol=this.datos.id_rol??2,this.usuario=this.datos.usuario??"",this.contrasena=this.datos.contrasena??"",this.emitir_datos()}catch(e){}},capturar_valor(e){this.id_rol=e,this.emitir_datos()},emitir_datos(){let e=this.valores_validos();if(!0===e){this.mostrar_errores=!1,this.errores="";let e={id:this.id,id_persona:this.id_persona,id_rol:this.id_rol,usuario:this.usuario,contrasena:this.contrasena};this.$emit("emitido",e)}else this.mostrar_errores=!0,this.errores=e,this.$emit("emitido",!1)},valores_validos(){let e="",a=/^.{4,}$/,t=/^.{3,}$/;return this.usuario=this.usuario.replace(/\s/g,""),this.contrasena=this.contrasena.replace(/\s/g,""),t.test(this.usuario)||(e+="Usuario debe tener al menos 3 caracteres. "),a.test(this.contrasena)||(e+="Su contrasena debe tener al menos 4 caracteres. "),""===e||e}}};const ea=(0,o.Z)(Xe,[["render",Me]]);var aa=ea;const ta={class:"backdrop-invert m-3 p-3 rounded-lg"};function na(e,a,t,n,r,o){return(0,s.wg)(),(0,s.iD)("div",ta,[(0,s.WI)(e.$slots,"default")])}var sa={name:"Card"};const ra=(0,o.Z)(sa,[["render",na]]);var oa=ra;const ia={class:"grid grid-flow-dense grid-cols-3 grid-rows-10 gap-y-2"},la=(0,s._)("label",{class:"col-span-1 font-semibold",for:"cedula"},"Cedula",-1),da=(0,s._)("label",{class:"col-span-1 font-semibold",for:"nombres"},"Nombres",-1),ua=(0,s._)("label",{class:"col-span-1 font-semibold",for:"apellidos"},"Apellidos",-1),ca=(0,s._)("label",{class:"col-span-1 font-semibold",for:"fecha"},"Fecha de nacimiento",-1),_a=(0,s._)("label",{class:"col-span-1 font-semibold",for:"genero"},"genero",-1),ma={key:0,class:"w-60 mx-auto my-3 text-red-700 font-semibold"},pa={class:"break-before-all"};function ga(e,a,t,r,o,i){const l=(0,s.up)("Combo");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",ia,[la,(0,s.wy)((0,s._)("input",{class:"col-span-2 px-2 rounded-md",type:"text",id:"cedula","onUpdate:modelValue":a[0]||(a[0]=e=>o.cedula=e),onInput:a[1]||(a[1]=(...e)=>i.emitir_info&&i.emitir_info(...e))},null,544),[[n.nr,o.cedula]]),da,(0,s.wy)((0,s._)("input",{class:"col-span-2 px-2 rounded-md",type:"text",id:"nombres","onUpdate:modelValue":a[2]||(a[2]=e=>o.nombres=e),onInput:a[3]||(a[3]=(...e)=>i.emitir_info&&i.emitir_info(...e))},null,544),[[n.nr,o.nombres]]),ua,(0,s.wy)((0,s._)("input",{class:"col-span-2 px-2 rounded-md",type:"text",id:"apellidos","onUpdate:modelValue":a[4]||(a[4]=e=>o.apellidos=e),onInput:a[5]||(a[5]=(...e)=>i.emitir_info&&i.emitir_info(...e))},null,544),[[n.nr,o.apellidos]]),ca,(0,s.wy)((0,s._)("input",{class:"col-span-2 px-2 rounded-md",type:"date",id:"fecha","onUpdate:modelValue":a[6]||(a[6]=e=>o.fecha_nacimiento=e),onInput:a[7]||(a[7]=(...e)=>i.emitir_info&&i.emitir_info(...e))},null,544),[[n.nr,o.fecha_nacimiento]]),_a,(0,s.Wm)(l,{llave:"genero",peticion:o.get_generos,id_prop:o.id_genero,onEmitido:i.capturar_evento},null,8,["peticion","id_prop","onEmitido"])]),o.mostrar_errores?((0,s.wg)(),(0,s.iD)("div",ma,[(0,s._)("p",pa,(0,c.zw)(o.errores),1)])):(0,s.kq)("",!0)],64)}var ha={name:"FormPersona",props:{datos:{type:Object,required:!1}},beforeMount(){this.cargar_datos()},components:{Combo:Je},data(){return{id:0,cedula:"",nombres:"",apellidos:"",fecha_nacimiento:"",id_genero:1,mostrar_errores:!1,errores:"",get_generos:K}},methods:{cargar_datos(){if(void 0!==this.datos)try{this.id=this.datos.id??0,this.cedula=this.datos.cedula??"",this.nombres=this.datos.nombres??"",this.apellidos=this.datos.apellidos??"",this.fecha_nacimiento=this.datos.fecha_nacimiento??"",this.id_genero=this.datos.id_genero??1,this.emitir_info()}catch{}},capturar_evento(e){this.id_genero=e,this.emitir_info()},emitir_info(){let e=this.valores_validos();if(!0===e){this.mostrar_errores=!1,this.errores="";let e={id:this.id,cedula:this.cedula,nombres:this.nombres,apellidos:this.apellidos,fecha_nacimiento:this.fecha_nacimiento,id_genero:this.id_genero};this.$emit("emitido",e)}else this.mostrar_errores=!0,this.errores=e},valores_validos(){let e="",a=/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/,t=/^\d{10}$/,n=/^\d{4}-(0[1-9]|1[0-2])-([0-2][1-9]|3[01])$/;return this.cedula=this.cedula.replace(/\s/g,""),t.test(this.cedula)||(e+="Campo -cedula- no valido. "),a.test(this.nombres)||(e+="Campo -nombres- no valido. "),a.test(this.apellidos)||(e+="Campo -apellidos- no valido. "),n.test(this.fecha_nacimiento)||(e+="Campo -fecha- no valido. "),""===e||e}}};const xa=(0,o.Z)(ha,[["render",ga]]);var ba=xa,va={name:"RegistroView",components:{Toolbar:W,Card:oa,FormPersona:ba,FormUsuario:aa},beforeMount(){window.addEventListener("beforeunload",this.eliminar_persona)},beforeUnmount(){window.removeEventListener("beforeunload",this.eliminar_persona),this.eliminar_persona()},data(){return{datos:{titulo:"Biolab",enlaces:[{titulo:"Examenes",ruta:R}],primarios:[{titulo:"Iniciar Sesion",ruta:S},{titulo:"Regresar",ruta:q}]},persona:void 0,mensaje:"",datos_usuario:{id:0,id_persona:0,id_rol:2,usuario:"",contrasena:""},persona_creada:!1,usuario_creado:!1,cargando:!1,arrows_rotate:Le}},methods:{capturar_persona(e){this.persona=e},capturar_usuario(e){this.datos_usuario=e},crear_persona(){if(1!=this.persona_creada)if(void 0!==this.persona){this.mensaje="";let e=L;this.cargando=!0,ue.Z.post(e,{parameter:{id:0,cedula:this.persona.cedula,nombres:this.persona.nombres,apellidos:this.persona.apellidos,fecha_nacimiento:this.persona.fecha_nacimiento,id_genero:this.persona.id_genero}}).then((e=>{this.persona_creada=!0,this.persona=e.data.result,this.mensaje="datos personales registrados",this.cargando=!1,this.crear_usuario(this.persona)})).catch((e=>{this.cargando=!1,this.mensaje="error al registrar datos personales"}))}else this.mensaje="no se puede hacer la peticion";else this.crear_usuario(this.persona)},crear_usuario(e){0!=this.datos_usuario&&(this.datos_usuario.id_persona=e.id,this.cargando=!0,ue.Z.post(G,{parameter:this.datos_usuario}).then((e=>{this.mensaje="se ha registrado el usuario",this.usuario_creado=!0,this.cargando=!1,this.$router.push(S)})).catch((e=>{this.cargando=!1,this.mensaje="error al registrar usuario"})))},eliminar_persona(e){if(0==this.usuario_creado)try{let e=J+this.persona.id;ue.Z.delete(e)}catch(a){}}}};const fa=(0,o.Z)(va,[["render",Se]]);var wa=fa;const ya={class:"container mx-auto"},ka=(0,s._)("br",null,null,-1),Da={class:"mx-5 sm:mx-24"},za=(0,s._)("div",{class:"text-gray-200"},[(0,s._)("h2",{class:"text-xl"},"Examenes disponibles")],-1),Ea={class:"text-gray-200"},Ua=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Tipos de examenes")],-1);function Ca(e,a,t,n,r,o){const i=(0,s.up)("Toolbar"),l=(0,s.up)("Tabla");return(0,s.wg)(),(0,s.iD)("div",ya,[(0,s.Wm)(i,{datos:r.datos},null,8,["datos"]),ka,(0,s._)("div",Da,[za,(0,s._)("div",Ea,[Ua,(0,s.Wm)(l,{mostrar:r.terminado_tipos,datos:r.datos_tipos,onRecargar:o.cargar_tipos},null,8,["mostrar","datos","onRecargar"])])])])}const ja={key:0},Va={class:"flex flex-row-reverse"},Za={class:"overflow-x-auto rounded-lg border border-gray-700"},Ta={class:"min-w-full divide-y-2 divide-gray-700 bg-gray-200 text-sm"},Wa={class:"ltr:text-left rtl:text-right"},qa={class:"divide-y divide-gray-700"},Fa=["onClick"],Ra={key:1,class:"w-10 h-10 p-2 mx-auto animate-spin bg-gray-300 rounded-full"},Sa=["src"];function Oa(e,a,t,n,r,o){return t.mostrar?((0,s.wg)(),(0,s.iD)("div",ja,[(0,s._)("div",Va,[(0,s._)("button",{class:"mb-2 px-2 py-1 border-b-2 border-cyan-500 text-gray-300 animation duration-300 hover:bg-cyan-500 hover:text-gray-100 hover:rounded-md active:bg-cyan-700",onClick:a[0]||(a[0]=(...e)=>o.emitir_evento&&o.emitir_evento(...e))},"Refrescar tabla")]),(0,s._)("div",Za,[(0,s._)("table",Ta,[(0,s._)("thead",Wa,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.titulos,((e,a)=>((0,s.wg)(),(0,s.iD)("th",{class:"whitespace-nowrap px-4 py-2 font-medium text-gray-900 uppercase",key:a},(0,c.zw)(e),1)))),128))])]),(0,s._)("tbody",qa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.registros,((e,a)=>((0,s.wg)(),(0,s.iD)("tr",{class:"animation duration-200 hover:bg-gray-400 bg-gray-100 hover:cursor-pointer",key:a},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.titulos,((a,t)=>((0,s.wg)(),(0,s.iD)("td",{onClick:a=>o.emitir_fila(e),class:"whitespace-nowrap px-4 py-2 font-medium text-gray-900",key:t},(0,c.zw)(e[a]),9,Fa)))),128))])))),128))])])])])):((0,s.wg)(),(0,s.iD)("div",Ra,[(0,s._)("img",{src:r.arrows_rotate,alt:"arrows rotate"},null,8,Sa)]))}var Ia={name:"Tabla",props:{datos:{type:Object,required:!0},mostrar:{type:Boolean,required:!0}},data(){return{registros:void 0,titulos:void 0,arrows_rotate:Le}},methods:{cargar_tabla(){try{this.titulos=this.datos.titulos,this.registros=this.datos.registros}catch(e){this.registros=[],this.titulos=[]}},emitir_evento(){this.$emit("recargar",!0)},emitir_fila(e){this.$emit("fila",e)}},mounted(){this.cargar_tabla()},watch:{mostrar(){this.cargar_tabla()}}};const $a=(0,o.Z)(Ia,[["render",Oa]]);var Pa=$a,Ya={name:"ExamenesView",components:{Toolbar:W,Tabla:Pa},data(){return{datos:{titulo:"Biolab",enlaces:[],primarios:[{titulo:"Registrarse",ruta:F},{titulo:"Iniciar Sesion",ruta:S}]},datos_tipos:{},terminado_tipos:!1}},methods:{async cargar_tipos(){this.terminado_tipos=!1,this.datos_tipos.titulos=["tipo","referencia","descripcion","precio"],this.datos_tipos.registros=await he.get_tipos(),this.terminado_tipos=!0}},mounted(){this.cargar_tipos()}};const Ha=(0,o.Z)(Ya,[["render",Ca]]);var Ma=Ha;const Na={class:"container mx-auto"},Ba=(0,s._)("br",null,null,-1),Aa={class:"mx-5 sm:mx-24"},Ka={class:"p-3 text-gray-400"},La=(0,s._)("h2",{class:"text-2xl"},"Login",-1),Ga=(0,s._)("h2",{class:"text-xl"},"Ingresa al sistema",-1),Qa=(0,s._)("br",null,null,-1),Ja=(0,s._)("h2",{class:"font-bold"},"Login",-1),Xa=(0,s._)("br",null,null,-1),et=(0,s._)("br",null,null,-1),at={class:"flex flex-row-reverse gap-3"},tt=["src"],nt={class:"font-semibold italic"};function st(e,a,t,n,r,o){const i=(0,s.up)("Toolbar"),l=(0,s.up)("FormUsuario"),d=(0,s.up)("Card");return(0,s.wg)(),(0,s.iD)("div",Na,[(0,s.Wm)(i,{datos:r.datos},null,8,["datos"]),Ba,(0,s._)("div",Aa,[(0,s._)("div",Ka,[La,Ga,Qa,(0,s.Wm)(d,{class:"text-gray-800 font-sans w-fit mx-auto"},{default:(0,s.w5)((()=>[Ja,Xa,(0,s.Wm)(l,{onEmitido:o.capturar_usuario},null,8,["onEmitido"]),et,(0,s._)("div",at,[r.cargando?((0,s.wg)(),(0,s.iD)("img",{key:1,class:"w-6 h-6 animate-spin",src:r.arrows_rotate,alt:"arrows rotate"},null,8,tt)):((0,s.wg)(),(0,s.iD)("button",{key:0,class:"active:translate-x-3 animation ease-in-out duration-200 hover:bg-green-500 hover:text-gray-800 rounded-md p-2 bg-emerald-600 text-gray-200",onClick:a[0]||(a[0]=e=>o.autenticar())},"Ingresar"))]),(0,s._)("div",null,[(0,s._)("p",nt,(0,c.zw)(r.mensaje),1)])])),_:1})])])])}var rt=t(1020);const ot=(0,rt.Q_)("session",{state:()=>({usuario:void 0,contrasena:void 0,id_rol:void 0,id_persona:void 0}),actions:{nuevaSesion(e){this.usuario=e.usuario,this.contrasena=e.contrasena,this.id_rol=e.id_rol,this.id_persona=e.id_persona},terminarSesion(){this.usuario=void 0,this.contrasena=void 0,this.id_rol=void 0,this.id_persona=void 0}}});var it={name:"LoginView",components:{Toolbar:W,Card:oa,FormUsuario:aa},data(){return{datos:{titulo:"Biolab",enlaces:[{titulo:"Examenes",ruta:R}],primarios:[{titulo:"Registrarse",ruta:F},{titulo:"Regresar",ruta:q}]},usuario_capturado:void 0,cargando:!1,arrows_rotate:Le,mensaje:"",sesion:ot()}},methods:{capturar_usuario(e){this.mensaje="",0!=e&&(this.usuario_capturado=e)},autenticar(){this.mensaje="",this.cargando=!0,ue.Z.post(X,{parameter:this.usuario_capturado}).then((e=>{let a=e.data.result;0!=a?(this.mensaje="autenticado",this.validar_tipo_usuario(a)):this.mensaje="credenciales incorrectas",this.cargando=!1})).catch((e=>{this.cargando=!1,this.mensaje="ocurrio un error"}))},validar_tipo_usuario(e){1==e.id_rol?(this.sesion.nuevaSesion(e),this.$router.push(I)):2==e.id_rol&&(console.log(e),this.sesion.nuevaSesion(e),this.$router.push(B))}}};const lt=(0,o.Z)(it,[["render",st]]);var dt=lt;const ut={class:"container mx-auto"},ct={class:"flex flex-row-reverse px-3 mt-2 gap-2 text-gray-400"},_t=(0,s._)("div",{class:"flex-grow"},null,-1),mt={class:"p-1 text-teal-200"},pt=(0,s._)("br",null,null,-1),gt={class:"mx-5 sm:mx-24"};function ht(e,a,t,n,r,o){const i=(0,s.up)("Toolbar"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",ut,[(0,s.Wm)(i,{datos:r.datos_toolbar},null,8,["datos"]),(0,s._)("div",ct,[(0,s._)("button",{class:"animation ease-in-out duration-300 ring-teal-600 hover:ring hover:bg-teal-900 hover:text-gray-200 p-1 rounded-md",onClick:a[0]||(a[0]=(...e)=>o.terminar_sesion&&o.terminar_sesion(...e))}," Terminar sesion "),_t,(0,s._)("h3",mt,[(0,s._)("strong",null,"Bienvenido "+(0,c.zw)(r.sesion.usuario),1)])]),pt,(0,s._)("div",gt,[(0,s.Wm)(l)])])}var xt={name:"InicioView",components:{Toolbar:W},data(){return{sesion:ot(),datos_toolbar:bt}},methods:{verificar_sesion(){void 0==this.sesion.usuario&&this.$router.push(q),1!=this.sesion.id_rol&&this.$router.push(q)},terminar_sesion(){this.sesion.terminarSesion(),this.verificar_sesion()}},beforeMount(){this.verificar_sesion()}};const bt={titulo:"biolab",enlaces:[{titulo:"Examenes de pacientes",ruta:$},{titulo:"Examenes",ruta:P},{titulo:"Pacientes",ruta:N}],primarios:[]},vt=(0,o.Z)(xt,[["render",ht]]);var ft=vt;const wt={class:"text-gray-200 font-sans"},yt=(0,s._)("h3",{class:"font-sans text-xl capitalize"},"Todos los examenes de los pacientes",-1),kt=(0,s._)("br",null,null,-1),Dt=(0,s._)("strong",null,"Seleccionado: ",-1),zt=(0,s._)("br",null,null,-1),Et={key:0,class:"flex flex-row-reverse"};function Ut(e,a,t,n,r,o){const i=(0,s.up)("Tabla"),l=(0,s.up)("DetalleExamen");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",wt,[yt,kt,(0,s._)("h3",null,[Dt,(0,s.Uk)(" "+(0,c.zw)(void 0==r.examen.examen?"ninguno":"Examen ID "+r.examen.examen.id),1)])]),(0,s.Wm)(i,{mostrar:r.terminado_examenes,datos:r.tabla_examenes,onRecargar:o.recargar,onFila:o.capturar_fila},null,8,["mostrar","datos","onRecargar","onFila"]),zt,r.mostrar_detalle?((0,s.wg)(),(0,s.iD)("div",Et,[(0,s._)("button",{class:"rounded-md bg-red-600 p-1 text-gray-100 hover:bg-red-700",onClick:a[0]||(a[0]=e=>r.mostrar_detalle=!r.mostrar_detalle)},"Cerrar")])):(0,s.kq)("",!0),r.mostrar_detalle?((0,s.wg)(),(0,s.j4)(l,{key:1,id_examen:r.fila.id,onDetalle:o.capturar_detalle},null,8,["id_examen","onDetalle"])):(0,s.kq)("",!0)],64)}const Ct={key:0},jt=(0,s._)("h3",{class:"text-gray-200 font-sans text-xl capitalize"},"Detalle del examen",-1),Vt=(0,s._)("hr",null,null,-1),Zt={class:"text-gray-200 text-xl mb-20"},Tt={class:"flex flex-row-reverse font-bold"},Wt={class:"flex flex-row-reverse font-bold"},qt=(0,s._)("br",null,null,-1),Ft=["src"],Rt={class:"text-sky-500 font-semibold"},St={class:"text-gray-200 font-semibold uppercase"},Ot={class:"border-l-4 pl-2 border-sky-500 text-sm"},It=(0,s._)("strong",null,"Identificacion: ",-1),$t=(0,s._)("strong",null,"Fecha de nacimiento: ",-1),Pt=(0,s._)("strong",null,"Edad: ",-1),Yt=(0,s._)("strong",null,"Genero: ",-1),Ht={class:"flex flex-row-reverse"},Mt=(0,s._)("strong",null,"Fecha de ingreso: ",-1),Nt=(0,s._)("br",null,null,-1),Bt=(0,s._)("div",null,[(0,s._)("h4",{class:"mx-auto w-fit font-semibold"},"Informe de resultados")],-1),At=(0,s._)("br",null,null,-1),Kt={class:"text-sm border-l-4 border-green-500 pl-2"},Lt={class:"uppercase font-semibold text-gray-300"},Gt=(0,s._)("h4",null,[(0,s._)("strong",null,"Razon del examen")],-1),Qt={class:"text-justify text-gray-400"},Jt=(0,s._)("br",null,null,-1),Xt={class:"overflow-x-auto text-sm rounded-lg bg-stone-700 p-2"},en={class:"table-auto divide-y-2 divide-stone-400"},an=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"px-2"},"Tipo de Examen"),(0,s._)("th",{class:"px-2"},"Estado"),(0,s._)("th",{class:"px-2"},"V. Referencia"),(0,s._)("th",{class:"px-2"},"Resultados"),(0,s._)("th",{class:"px-2"},"Observaciones")])],-1),tn={class:"p-2"},nn={class:"p-2"},sn={class:"p-2"},rn={class:"p-2"},on={class:"p-2"},ln=(0,s._)("br",null,null,-1),dn={class:"text-sm border-l-4 border-green-500 pl-2"},un=(0,s._)("h4",null,[(0,s._)("strong",null,"Observaciones")],-1),cn={class:"text-justify text-gray-400"},_n=(0,s._)("br",null,null,-1),mn=["src"],pn=(0,s._)("hr",null,null,-1),gn={class:"text-gray-200 mt-3 mb-3"},hn={key:1,class:"w-10 h-10 p-2 mx-auto animate-spin bg-gray-300 rounded-full"},xn=["src"],bn={id:"detalle_pdf"},vn={class:"text-black text-xl mb-20 bg-white"},fn={class:"flex flex-row-reverse font-bold"},wn={class:"flex flex-row-reverse font-bold"},yn={class:"text-sky-500 font-semibold"},kn={class:"mb-3 font-semibold uppercase"},Dn={class:"border-l-4 pl-2 border-sky-500 text-sm"},zn=(0,s._)("strong",null,"Identificacion: ",-1),En=(0,s._)("strong",null,"Fecha de nacimiento: ",-1),Un=(0,s._)("strong",null,"Edad: ",-1),Cn=(0,s._)("strong",null,"Genero: ",-1),jn={class:"flex flex-row-reverse"},Vn=(0,s._)("strong",null,"Fecha de ingreso: ",-1),Zn=(0,s._)("br",null,null,-1),Tn=(0,s._)("div",null,[(0,s._)("h4",{class:"mx-auto w-fit font-semibold uppercase"},"Informe de resultados")],-1),Wn=(0,s._)("br",null,null,-1),qn={class:"text-sm border-l-4 border-green-500 pl-2 pb-5"},Fn={class:"uppercase font-semibold"},Rn=(0,s._)("h4",null,[(0,s._)("strong",null,"Razon del examen")],-1),Sn={class:"text-justify"},On=(0,s._)("br",null,null,-1),In={class:"overflow-x-auto text-sm rounded-lg bg-gray-200 p-2"},$n={class:"table-auto"},Pn=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"px-2"},"Tipo de Examen"),(0,s._)("th",{class:"px-2"},"Estado"),(0,s._)("th",{class:"px-2"},"V. Referencia"),(0,s._)("th",{class:"px-2"},"Resultados"),(0,s._)("th",{class:"px-2"},"Observaciones")])],-1),Yn={class:"p-2"},Hn={class:"p-2"},Mn={class:"p-2"},Nn={class:"p-2"},Bn={class:"p-2"},An=(0,s._)("br",null,null,-1),Kn={class:"text-sm border-l-4 border-green-500 pl-2 pb-5"},Ln=(0,s._)("h4",null,[(0,s._)("strong",null,"Observaciones")],-1),Gn={class:"text-justify text-gray-500"},Qn=(0,s._)("br",null,null,-1),Jn={class:"m-1 border-gray-500 rounded-lg bg-gray-600 p-1 w-fit"},Xn=["src"];function es(e,a,t,r,o,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.mostrar?((0,s.wg)(),(0,s.iD)("div",Ct,[jt,Vt,(0,s._)("div",null,[(0,s._)("div",Zt,[(0,s._)("h3",Tt,(0,c.zw)(o.institucion.institucion),1),(0,s._)("h3",Wt,(0,c.zw)(o.institucion.ubicacion),1),qt,(0,s._)("img",{class:"w-32 rounded-md ring-1 ring-sky-500",src:o.institucion.path_img,alt:"logo laboratorio"},null,8,Ft),(0,s._)("h4",Rt,"Examen No. "+(0,c.zw)(o.examen.id),1),(0,s._)("h4",St,(0,c.zw)(o.persona.nombres)+" "+(0,c.zw)(o.persona.apellidos),1),(0,s._)("div",Ot,[(0,s._)("h5",null,[It,(0,s.Uk)(" "+(0,c.zw)(o.persona.cedula),1)]),(0,s._)("h5",null,[$t,(0,s.Uk)(" "+(0,c.zw)(o.persona.fecha_nacimiento),1)]),(0,s._)("h5",null,[Pt,(0,s.Uk)(" "+(0,c.zw)(o.persona.edad),1)]),(0,s._)("h5",null,[Yt,(0,s.Uk)(" "+(0,c.zw)(o.genero.genero),1)]),(0,s._)("div",Ht,[(0,s._)("h5",null,[Mt,(0,s.Uk)((0,c.zw)(o.examen.fecha_realiza),1)])])]),Nt,Bt,At,(0,s._)("div",Kt,[(0,s._)("h5",Lt,(0,c.zw)(o.examen.examen),1),Gt,(0,s._)("p",Qt,(0,c.zw)(o.examen.motivo),1)]),Jt,(0,s._)("div",Xt,[(0,s._)("table",en,[an,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.detalle,((e,a)=>((0,s.wg)(),(0,s.iD)("tr",{key:a},[(0,s._)("td",tn,(0,c.zw)(e.tipo),1),(0,s._)("td",nn,(0,c.zw)(e.estado),1),(0,s._)("td",sn,(0,c.zw)(e.referencia),1),(0,s._)("td",rn,(0,c.zw)(e.resultado),1),(0,s._)("td",on,(0,c.zw)(e.observacion),1)])))),128))])])]),ln,(0,s._)("div",dn,[un,(0,s._)("p",cn,(0,c.zw)(o.examen.observacion),1)]),_n,(0,s._)("img",{class:"rounded-lg",src:o.qr_url,alt:"qr"},null,8,mn)])]),pn,(0,s._)("div",gn,[(0,s._)("button",{class:"bg-teal-600 p-2 hover:ring-1 ring-teal-300 active:bg-teal-700 rounded-md",onClick:a[0]||(a[0]=(...e)=>i.generarPdf&&i.generarPdf(...e))},"Descargar PDF")])])):((0,s.wg)(),(0,s.iD)("div",hn,[(0,s._)("img",{src:o.arrows_rotate,alt:"arrows rotate"},null,8,xn)])),(0,s.wy)((0,s._)("div",bn,[(0,s._)("div",vn,[(0,s._)("h3",fn,(0,c.zw)(o.institucion.institucion),1),(0,s._)("h3",wn,(0,c.zw)(o.institucion.ubicacion),1),(0,s._)("h4",yn,"Examen No. "+(0,c.zw)(o.examen.id),1),(0,s._)("h4",kn,(0,c.zw)(o.persona.nombres)+" "+(0,c.zw)(o.persona.apellidos),1),(0,s._)("div",Dn,[(0,s._)("h5",null,[zn,(0,s.Uk)(" "+(0,c.zw)(o.persona.cedula),1)]),(0,s._)("h5",null,[En,(0,s.Uk)(" "+(0,c.zw)(o.persona.fecha_nacimiento),1)]),(0,s._)("h5",null,[Un,(0,s.Uk)(" "+(0,c.zw)(o.persona.edad),1)]),(0,s._)("h5",null,[Cn,(0,s.Uk)(" "+(0,c.zw)(o.genero.genero),1)]),(0,s._)("div",jn,[(0,s._)("h5",null,[Vn,(0,s.Uk)((0,c.zw)(o.examen.fecha_realiza),1)])])]),Zn,Tn,Wn,(0,s._)("div",qn,[(0,s._)("h5",Fn,(0,c.zw)(o.examen.examen),1),Rn,(0,s._)("p",Sn,(0,c.zw)(o.examen.motivo),1)]),On,(0,s._)("div",In,[(0,s._)("table",$n,[Pn,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.detalle,((e,a)=>((0,s.wg)(),(0,s.iD)("tr",{key:a},[(0,s._)("td",Yn,(0,c.zw)(e.tipo),1),(0,s._)("td",Hn,(0,c.zw)(e.estado),1),(0,s._)("td",Mn,(0,c.zw)(e.referencia),1),(0,s._)("td",Nn,(0,c.zw)(e.resultado),1),(0,s._)("td",Bn,(0,c.zw)(e.observacion),1)])))),128))])])]),An,(0,s._)("div",Kn,[Ln,(0,s._)("p",Gn,(0,c.zw)(o.examen.observacion),1)]),Qn,(0,s._)("div",Jn,[(0,s._)("img",{class:"rounded-lg",src:o.qr_url,alt:"qr"},null,8,Xn)])])],512),[[n.F8,o.generando_pdf]])],64)}var as=t(8577),ts=t.n(as),ns=t(8082),ss=t.n(ns);function rs(e){const a=new Date,t=new Date(e);let n=a.getFullYear()-t.getFullYear();const s=a.getMonth(),r=a.getDate(),o=t.getMonth(),i=t.getDate();return(s<o||s===o&&r<i)&&n--,n}function os(e){e=ss().enc.Utf8.parse(e.toString());return ss().enc.Base64.stringify(e)}function is(e){e=ss().enc.Base64.parse(e);return ss().enc.Utf8.stringify(e)}function ls(e,a){let t=ss().AES.encrypt(e,a).toString();return t=os(t),t}function ds(e,a){e=is(e);let t=ss().AES.decrypt(e,a).toString(ss().enc.Utf8);return t}var us=t(8385),cs={name:"DetalleExamen",props:{id_examen:{type:Number,required:!0}},data(){return{mostrar:!1,arrows_rotate:Le,institucion:{},examen:{},persona:{},genero:{},tipo_examen:{},detalle:[],qr_url:"",generando_pdf:!1}},methods:{reestablecer(){this.institucion={},this.examen={},this.persona={},this.genero={},this.tipo_examen={},this.detalle=[],this.qr_url=""},async generarPdf(){this.generando_pdf=!0;var e=document.getElementById("detalle_pdf"),a={margin:8,filename:this.persona.nombres+" "+this.persona.apellidos+".pdf",image:{type:"jpg",quality:1}};await ts()().from(e).set(a).save(),this.generando_pdf=!1},crearQR(e){let a=this;e=JSON.stringify(e),e=ls(e,"examenes");let t=O+e;console.log(t),console.log(O),console.log(e),us.toDataURL(t,(function(e,t){a.qr_url=t}))},async cargar_datos(){this.mostrar=!1;try{this.reestablecer(),this.examen=await pe.get_examen_id(this.id_examen),this.institucion=await ce.get_instituciones_id(this.examen.id_institucion),this.persona=await me.get_persona_id(this.examen.id_persona),this.persona.edad=rs(this.persona.fecha_nacimiento),this.genero=await ge.get_genero_id(this.persona.id_genero);let e=await he.get_tipos(),a=await _e.get_estados(),t=await xe.get_detalle();this.examen.estado=a.find((e=>e.id==this.examen.id_estado)).estado,t.forEach((t=>{if(t.id_examen==this.examen.id){let n=e.find((e=>e.id==t.id_tipo));t.tipo=n.tipo,t.referencia=n.referencia;let s=a.find((e=>e.id==t.id_estado));t.estado=s.estado,this.detalle.push(t)}})),this.crearQR(this.id_examen);let n={};n.examen=this.examen,n.persona=this.persona,n.institucion=this.institucion,n.detalle=this.detalle,this.$emit("detalle",JSON.stringify(n))}catch(e){console.log(e)}this.mostrar=!0}},mounted(){this.cargar_datos()},watch:{id_examen(){this.cargar_datos()}}};const _s=(0,o.Z)(cs,[["render",es]]);var ms=_s;const ps=(0,rt.Q_)("examen",{state:()=>({examen:void 0,detalle:void 0,persona:void 0,institucion:void 0}),actions:{eliminarExamen(){this.examen=void 0,this.detalle=void 0,this.persona=void 0,this.institucion=void 0},setPersona(e){this.persona=e},setExamen(e){this.examen=e},setDetalle(e){this.detalle=e},setInstitucion(e){this.institucion=e}}});var gs={name:"ExamenesPacientes",components:{Tabla:Pa,DetalleExamen:ms},data(){return{tabla_examenes:{titulos:void 0,registros:void 0},terminado_examenes:!1,personas:void 0,instituciones:void 0,estados:void 0,fila:{},mostrar_detalle:!1,examen:ps()}},methods:{async cargar_examenes(){this.terminado_examenes=!1;try{this.personas=await me.get_personas(),this.instituciones=await ce.get_instituciones(),this.estados=await _e.get_estados(),this.tabla_examenes.titulos=["id","institucion","nombres","apellidos","estado","examen","motivo","fecha_realiza","observacion"],this.tabla_examenes.registros=await pe.get_examenes(),this.tabla_examenes.registros.forEach((e=>{let a=this.personas.find((a=>a.id==e.id_persona));e.nombres=a.nombres,e.apellidos=a.apellidos,a=this.instituciones.find((a=>a.id==e.id_institucion)),e.institucion=a.institucion,a=this.estados.find((a=>a.id==e.id_estado)),e.estado=a.estado}))}catch(e){}this.terminado_examenes=!0},recargar(){this.cargar_examenes()},capturar_fila(e){this.mostrar_detalle=!0,this.fila=e},capturar_detalle(e){e=JSON.parse(e),this.examen.setExamen(e.examen),this.examen.setDetalle(e.detalle),this.examen.setPersona(e.persona),this.examen.setInstitucion(e.institucion)}},mounted(){this.cargar_examenes()}};const hs=(0,o.Z)(gs,[["render",Ut]]);var xs=hs;const bs={class:"text-gray-200 text-lg font-sans"},vs={class:"flex flex-wrap gap-3"},fs={class:"rounded-lg bg-teal-600 p-1 px-2 animation duration-300 hover:ring-1 hover:ring-teal-200 active:bg-teal-800"},ws={class:"rounded-lg bg-teal-600 p-1 px-2 animation duration-300 hover:ring-1 hover:ring-teal-200 active:bg-teal-800"},ys={class:"rounded-lg bg-teal-600 p-1 px-2 animation duration-300 hover:ring-1 hover:ring-teal-200 active:bg-teal-800"},ks=(0,s._)("br",null,null,-1),Ds={class:""};function zs(e,a,t,n,r,o){const i=(0,s.up)("router-link"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",bs,[(0,s._)("div",vs,[(0,s._)("button",fs,[(0,s.Wm)(i,{to:r.nuevo_examen},{default:(0,s.w5)((()=>[(0,s.Uk)("Nuevo Examen")])),_:1},8,["to"])]),(0,s._)("button",ws,[(0,s.Wm)(i,{to:r.eliminar_examen},{default:(0,s.w5)((()=>[(0,s.Uk)("Eliminar Examen")])),_:1},8,["to"])]),(0,s._)("button",ys,[(0,s.Wm)(i,{to:r.nuevo_detalle},{default:(0,s.w5)((()=>[(0,s.Uk)("Nuevo Detalle")])),_:1},8,["to"])])]),ks,(0,s._)("div",Ds,[(0,s.Wm)(l)])])}var Es={name:"AdministrarExamenes",data(){return{nuevo_examen:Y,nuevo_detalle:H,eliminar_examen:M}}};const Us=(0,o.Z)(Es,[["render",zs]]);var Cs=Us;const js={class:"text-gray-200 font-sans"},Vs=(0,s._)("h3",{class:"font-sans text-xl capitalize"},"Todos los examenes de los pacientes",-1),Zs=(0,s._)("br",null,null,-1),Ts=(0,s._)("strong",null,"Seleccionado: ",-1);function Ws(e,a,t,n,r,o){const i=(0,s.up)("Tabla");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",js,[Vs,Zs,(0,s._)("h3",null,[Ts,(0,s.Uk)(" "+(0,c.zw)(void 0==r.examen.persona?"ninguno":"ID "+r.examen.persona.id+" - "+r.examen.persona.nombres),1)])]),(0,s.Wm)(i,{mostrar:r.termino_pacientes,datos:r.pacientes,onFila:o.capturar_fila,onRecargar:o.recargar},null,8,["mostrar","datos","onFila","onRecargar"])],64)}var qs={name:"Pacientes",components:{Tabla:Pa},data(){return{pacientes:{titulos:void 0,registros:void 0},termino_pacientes:!1,generos:void 0,examen:ps()}},methods:{async cargar_personas(){this.termino_pacientes=!1;try{this.generos=await ge.get_generos(),this.pacientes.titulos=["id","cedula","nombres","apellidos","fecha_nacimiento","genero"],this.pacientes.registros=await me.get_personas(),this.pacientes.registros.forEach((e=>{let a=this.generos.find((a=>a.id==e.id_genero));e.genero=a.genero})),this.termino_pacientes=!0}catch(e){this.termino_pacientes=!0}},recargar(){this.cargar_personas()},capturar_fila(e){this.examen.setPersona(e)}},mounted(){this.cargar_personas()}};const Fs=(0,o.Z)(qs,[["render",Ws]]);var Rs=Fs;const Ss={class:"container mx-auto"},Os=(0,s._)("br",null,null,-1),Is=(0,s._)("div",{class:"mx-5 sm:mx-24"}," este es el resumen ",-1);function $s(e,a,t,n,r,o){const i=(0,s.up)("Toolbar");return(0,s.wg)(),(0,s.iD)("div",Ss,[(0,s.Wm)(i,{datos:r.datos},null,8,["datos"]),Os,Is])}var Ps={name:"ResumenView",components:{Toolbar:W},data(){return{datos:{titulo:"Biolab",enlaces:[],primarios:[{titulo:"Registrarse",ruta:F},{titulo:"Iniciar Sesion",ruta:S}]},id_examen:0}},methods:{capturar_cifrado(){let e=this.$route.params.id,a=ds(e,"examenes");this.id_examen=a,console.log(this.id_examen)}},beforeMount(){this.capturar_cifrado()}};const Ys=(0,o.Z)(Ps,[["render",$s]]);var Hs=Ys;const Ms={class:"flex flex-wrap gap-2"},Ns={key:0,action:""},Bs=(0,s._)("label",{class:"text-green-600",for:""},[(0,s._)("strong",null,"Datos de la persona")],-1),As={class:"flex flex-wrap gap-4"},Ks=(0,s._)("label",{for:""},[(0,s._)("strong",null,"ID")],-1),Ls=(0,s._)("br",null,null,-1),Gs=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Cedula")],-1),Qs=(0,s._)("br",null,null,-1),Js=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Nombres")],-1),Xs=(0,s._)("br",null,null,-1),er=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Apellidos")],-1),ar=(0,s._)("br",null,null,-1),tr=(0,s._)("br",null,null,-1),nr=(0,s._)("label",{class:"text-green-600",for:""},[(0,s._)("strong",null,"Sobre el examen")],-1),sr={class:"flex flex-wrap gap-4"},rr=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Institucion")],-1),or=(0,s._)("br",null,null,-1),ir=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Estado del examen")],-1),lr=(0,s._)("br",null,null,-1),dr=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Titulo")],-1),ur=(0,s._)("br",null,null,-1),cr=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Motivo")],-1),_r=(0,s._)("br",null,null,-1),mr=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Fecha de ingreso")],-1),pr=(0,s._)("br",null,null,-1),gr=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Observacion")],-1),hr=(0,s._)("br",null,null,-1),xr=(0,s._)("br",null,null,-1),br={class:"text-gray-200"},vr={class:"italic"},fr={key:1,class:"w-10 h-10 animate-spin p-2 bg-gray-300 rounded-full"},wr=["src"];function yr(e,a,t,r,o,i){const l=(0,s.up)("Combo"),d=(0,s.up)("Card");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ms,[(0,s._)("button",{class:"bg-green-600 rounded-lg p-1 active:bg-green-800",onClick:a[0]||(a[0]=(...e)=>i.cargar_examen&&i.cargar_examen(...e))},"Cargar examen"),(0,s._)("button",{class:"bg-green-600 rounded-lg p-1 active:bg-green-800",onClick:a[1]||(a[1]=(...e)=>i.guardar_borrador&&i.guardar_borrador(...e))},"Guardar borrador")]),o.guardando_examen?((0,s.wg)(),(0,s.iD)("div",fr,[(0,s._)("img",{src:o.arrows_rotate,alt:"arrows rotate"},null,8,wr)])):((0,s.wg)(),(0,s.iD)("form",Ns,[(0,s.Wm)(d,{class:"text-gray-800 font-sans"},{default:(0,s.w5)((()=>[Bs,(0,s._)("div",As,[(0,s._)("div",null,[Ks,Ls,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 w-10 rounded-md",type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>o._persona.id=e)},null,512),[[n.nr,o._persona.id]])]),(0,s._)("div",null,[Gs,Qs,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md",type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>o._persona.cedula=e)},null,512),[[n.nr,o._persona.cedula]])]),(0,s._)("div",null,[Js,Xs,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md",type:"text","onUpdate:modelValue":a[4]||(a[4]=e=>o._persona.nombres=e)},null,512),[[n.nr,o._persona.nombres]])]),(0,s._)("div",null,[er,ar,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md",type:"text","onUpdate:modelValue":a[5]||(a[5]=e=>o._persona.apellidos=e)},null,512),[[n.nr,o._persona.apellidos]])])]),tr,nr,(0,s._)("div",sr,[(0,s._)("div",null,[rr,or,(0,s.Wm)(l,{llave:"institucion",peticion:o.get_instituciones,id_prop:"1",onEmitido:a[6]||(a[6]=e=>i.capturar_evento("_id_institucion",e))},null,8,["peticion"])]),(0,s._)("div",null,[ir,lr,(0,s.Wm)(l,{llave:"estado",peticion:o.get_estados,id_prop:"1",onEmitido:a[7]||(a[7]=e=>i.capturar_evento("_id_estado",e))},null,8,["peticion"])]),(0,s._)("div",null,[dr,ur,(0,s.wy)((0,s._)("input",{class:"px-1 rounded-md",type:"text","onUpdate:modelValue":a[8]||(a[8]=e=>o._examen.examen=e),required:"true",maxlength:"200"},null,512),[[n.nr,o._examen.examen]])]),(0,s._)("div",null,[cr,_r,(0,s.wy)((0,s._)("textarea",{class:"px-1 rounded-md sm:w-80","onUpdate:modelValue":a[9]||(a[9]=e=>o._examen.motivo=e),rows:"3",maxlength:"500"},null,512),[[n.nr,o._examen.motivo]])]),(0,s._)("div",null,[mr,pr,(0,s.wy)((0,s._)("input",{class:"px-1 rounded-md",type:"date","onUpdate:modelValue":a[10]||(a[10]=e=>o._examen.fecha_realiza=e)},null,512),[[n.nr,o._examen.fecha_realiza]])]),(0,s._)("div",null,[gr,hr,(0,s.wy)((0,s._)("textarea",{class:"px-1 rounded-md sm:w-80",placeholder:"pendiente","onUpdate:modelValue":a[11]||(a[11]=e=>o._examen.observacion=e),rows:"3",maxlength:"500"},null,512),[[n.nr,o._examen.observacion]])])]),xr,(0,s._)("div",br,[(0,s._)("button",{type:"submit",class:"bg-cyan-500 rounded-lg p-1 active:bg-cyan-800",onClick:a[12]||(a[12]=(...e)=>i.guardar_examen&&i.guardar_examen(...e))},"Guardar nuevo examen")]),(0,s._)("div",vr,[(0,s._)("p",null,[(0,s._)("strong",null,(0,c.zw)(o.mensaje_examen),1)])])])),_:1})]))])}var kr={name:"FormExamen",props:{datos:{type:Object,required:!0}},components:{Combo:Je,Card:oa},data(){return{arrows_rotate:Le,get_instituciones:ne,get_estados:se,_examen:{},_detalle:[],_persona:{},examen:ps(),guardando_examen:!1,mensaje_examen:"",_id_estado:0,_id_institucion:0}},methods:{cargar_datos(){try{this._examen={examen:"",motivo:"",observacion:"",fecha_realiza:""},this._persona=this.examen.persona??{id:-1,cedula:"ninguno",nombres:"ninguno",apellidos:"ninguno"}}catch(e){}},cargar_examen(){try{this._examen=this.examen.examen??{examen:"",motivo:"",observacion:"",fecha_realiza:""},this._detalle=this.examen.detalle}catch(e){}},guardar_borrador(){console.log(this._examen),this.examen.setExamen(this._examen),this.examen.setDetalle(this._detalle)},async guardar_examen(){this.guardando_examen=!0;let e={id:0};e.id_institucion=this._id_institucion,e.id_estado=this._id_estado,e.id_persona=this._persona.id,e.examen=this._examen.examen,e.motivo=this._examen.motivo,e.fecha_realiza=this._examen.fecha_realiza,e.observacion=this._examen.observacion??"pendiente",console.log(e),await pe.create_examen(e).then((e=>{this.mensaje_examen="examen guardado!"})).catch((e=>{this.mensaje_examen=e})),this.guardando_examen=!1},capturar_evento(e,a){this[e]=a}},beforeMount(){this.cargar_datos()}};const Dr=(0,o.Z)(kr,[["render",yr]]);var zr=Dr;const Er=(0,s._)("label",{class:"text-green-600",for:""},[(0,s._)("strong",null,"Datos de la persona")],-1),Ur={class:"flex flex-wrap gap-4"},Cr=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Nombres")],-1),jr=(0,s._)("br",null,null,-1),Vr=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Apellidos")],-1),Zr=(0,s._)("br",null,null,-1),Tr=(0,s._)("br",null,null,-1),Wr=(0,s._)("label",{class:"text-green-600",for:""},[(0,s._)("strong",null,"Sobre el examen")],-1),qr={class:"flex flex-wrap gap-4"},Fr=(0,s._)("label",{for:""},[(0,s._)("strong",null,"ID")],-1),Rr=(0,s._)("br",null,null,-1),Sr=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Estado del examen")],-1),Or=(0,s._)("br",null,null,-1),Ir=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Titulo")],-1),$r=(0,s._)("br",null,null,-1),Pr=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Motivo")],-1),Yr=(0,s._)("br",null,null,-1),Hr=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Fecha de ingreso")],-1),Mr=(0,s._)("br",null,null,-1),Nr=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Observacion")],-1),Br=(0,s._)("br",null,null,-1),Ar=(0,s._)("br",null,null,-1),Kr={key:0},Lr=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Tipos de examenes")],-1),Gr=(0,s._)("br",null,null,-1),Qr={class:"flex flex-wrap gap-4"},Jr=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Tipo")],-1),Xr=(0,s._)("br",null,null,-1),eo=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Estado")],-1),ao=(0,s._)("br",null,null,-1),to=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Resultado")],-1),no=(0,s._)("br",null,null,-1),so=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Observacion")],-1),ro=(0,s._)("br",null,null,-1),oo=(0,s._)("br",null,null,-1),io=(0,s._)("br",null,null,-1),lo={class:"italic",for:""},uo=(0,s._)("br",null,null,-1),co=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Examenes por hacer")],-1),_o={class:"list-disc"},mo=(0,s._)("br",null,null,-1),po={key:0},go={key:1,class:"w-10 h-10 animate-spin p-2 bg-gray-300 rounded-full"},ho=["src"],xo={key:1},bo=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Seleccione un examen para agregar detalles")],-1),vo=[bo],fo=(0,s._)("br",null,null,-1);function wo(e,a,t,r,o,i){const l=(0,s.up)("Card"),d=(0,s.up)("Tabla"),u=(0,s.up)("Combo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l,{class:"text-gray-800 font-sans"},{default:(0,s.w5)((()=>[Er,(0,s._)("div",Ur,[(0,s._)("div",null,[Cr,jr,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md",type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>o._persona.nombres=e)},null,512),[[n.nr,o._persona.nombres]])]),(0,s._)("div",null,[Vr,Zr,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md",type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>o._persona.apellidos=e)},null,512),[[n.nr,o._persona.apellidos]])])]),Tr,Wr,(0,s._)("div",qr,[(0,s._)("div",null,[Fr,Rr,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md",type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>o._examen.id=e)},null,512),[[n.nr,o._examen.id]])]),(0,s._)("div",null,[Sr,Or,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md",type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>o._examen.estado=e)},null,512),[[n.nr,o._examen.estado]])]),(0,s._)("div",null,[Ir,$r,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md",type:"text","onUpdate:modelValue":a[4]||(a[4]=e=>o._examen.examen=e),required:"true",maxlength:"200"},null,512),[[n.nr,o._examen.examen]])]),(0,s._)("div",null,[Pr,Yr,(0,s.wy)((0,s._)("textarea",{disabled:"true",class:"px-1 rounded-md sm:w-80","onUpdate:modelValue":a[5]||(a[5]=e=>o._examen.motivo=e),rows:"2",maxlength:"500"},null,512),[[n.nr,o._examen.motivo]])]),(0,s._)("div",null,[Hr,Mr,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md",type:"date","onUpdate:modelValue":a[6]||(a[6]=e=>o._examen.fecha_realiza=e)},null,512),[[n.nr,o._examen.fecha_realiza]])]),(0,s._)("div",null,[Nr,Br,(0,s.wy)((0,s._)("textarea",{disabled:"true",class:"px-1 rounded-md sm:w-80",placeholder:"pendiente","onUpdate:modelValue":a[7]||(a[7]=e=>o._examen.observacion=e),rows:"2",maxlength:"500"},null,512),[[n.nr,o._examen.observacion]])])])])),_:1}),Ar,o.mostrar_detalle?((0,s.wg)(),(0,s.iD)("div",Kr,[(0,s._)("div",null,[Lr,(0,s.Wm)(d,{mostrar:o.terminado_tipos,datos:o.datos_tipos,onRecargar:i.cargar_tipos,onFila:i.capturar_tipo},null,8,["mostrar","datos","onRecargar","onFila"])]),Gr,(0,s.Wm)(l,{class:"text-gray-800 font-sans"},{default:(0,s.w5)((()=>[(0,s._)("div",Qr,[(0,s._)("div",null,[Jr,Xr,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md w-96",type:"text","onUpdate:modelValue":a[8]||(a[8]=e=>o.tipo_seleccionado.tipo=e)},null,512),[[n.nr,o.tipo_seleccionado.tipo]])]),(0,s._)("div",null,[eo,ao,(0,s.Wm)(u,{llave:"estado",peticion:o.get_estados,id_prop:"1",onEmitido:a[9]||(a[9]=e=>i.capturar_evento("_id_estado",e))},null,8,["peticion"])]),(0,s._)("div",null,[to,no,(0,s.wy)((0,s._)("input",{class:"px-1 rounded-md w-96",type:"text","onUpdate:modelValue":a[10]||(a[10]=e=>o._resultado=e)},null,512),[[n.nr,o._resultado]])]),(0,s._)("div",null,[so,ro,(0,s.wy)((0,s._)("input",{class:"px-1 rounded-md w-96",type:"text","onUpdate:modelValue":a[11]||(a[11]=e=>o._observacion=e)},null,512),[[n.nr,o._observacion]])])]),oo,(0,s._)("div",null,[(0,s._)("button",{class:"bg-cyan-500 rounded-lg p-1 active:bg-cyan-800",onClick:a[12]||(a[12]=(...e)=>i.agregar_detalle&&i.agregar_detalle(...e))},"Agregar"),io,(0,s._)("label",lo,[(0,s._)("strong",null,(0,c.zw)(o.mensaje_agregar),1)])])])),_:1}),uo,(0,s.Wm)(l,{class:"text-gray-800 font-sans"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[co,(0,s._)("ul",_o,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o._detalle,((e,a)=>((0,s.wg)(),(0,s.iD)("li",{key:a},[(0,s._)("div",{class:(0,c.C_)(["p-2 rounded-lg mb-2",0!=e.id?"bg-green-400":"bg-gray-200"])},(0,c.zw)(e.tipo)+" / "+(0,c.zw)(e.resultado)+" / "+(0,c.zw)(e.observacion),3)])))),128))])]),mo,o.guardando_detalle?((0,s.wg)(),(0,s.iD)("div",go,[(0,s._)("img",{src:o.arrows_rotate,alt:"arrows rotate"},null,8,ho)])):((0,s.wg)(),(0,s.iD)("div",po,[(0,s._)("button",{class:"bg-cyan-500 rounded-lg p-1 active:bg-cyan-800",onClick:a[13]||(a[13]=(...e)=>i.guardar_detalle&&i.guardar_detalle(...e))},"Guardar detalle")]))])),_:1})])):((0,s.wg)(),(0,s.iD)("div",xo,vo)),fo])}var yo={name:"FormDetalle",props:{datos:{type:Object,required:!0}},components:{Combo:Je,Card:oa,Tabla:Pa},data(){return{examen:ps(),arrows_rotate:Le,get_instituciones:ne,get_estados:se,_examen:{},_detalle:[],_persona:{},_id_estado:0,_id_institucion:0,_resultado:"pendiente",_observacion:"pendiente",tipo_seleccionado:{tipo:""},mensaje_examen:"",mensaje_agregar:"",datos_tipos:{},guardando_examen:!1,guardando_detalle:!1,terminado_tipos:!1,mostrar_detalle:!1}},methods:{cargar_datos(){try{this._examen=this.examen.examen??{id:"",examen:"",institucion:"",estado:"",motivo:"",observacion:"",fecha_realiza:""},this._detalle=this.examen.detalle??[],this._persona=this.examen.persona??{nombres:"",apellidos:""},this.cargar_tipos()}catch(e){}},async cargar_tipos(){this.terminado_tipos=!1,this.datos_tipos.titulos=["tipo","referencia","descripcion","precio"],this.datos_tipos.registros=await he.get_tipos(),this.terminado_tipos=!0},guardar_borrador(){this.examen.setDetalle(this._detalle),this.examen.setExamen(this._examen),this.examen.setPersona(this._persona)},capturar_evento(e,a){this[e]=a},capturar_tipo(e){this.tipo_seleccionado=e},agregar_detalle(){if(void 0!=this.tipo_seleccionado.id){let e={id:0};e.id_examen=this._examen.id,e.id_estado=this._id_estado,e.tipo=this.tipo_seleccionado.tipo,e.id_tipo=this.tipo_seleccionado.id,e.resultado=this._resultado,e.observacion=this._observacion;let a=this._detalle.find((a=>a.id_tipo==e.id_tipo));a?this.mensaje_agregar="ese tipo de examen ya esta listado":(this._detalle.push(e),this.mensaje_agregar="")}},async guardar_detalle(){try{this._detalle.forEach((async e=>{this.guardando_detalle=!0;let{tipo:a,...t}=e;0==e.id&&(await xe.create(t),e.id=1)}))}catch(e){}this.guardando_detalle=!1}},beforeMount(){this.cargar_datos(),void 0==this._examen.id||""==this._examen.id?this.mostrar_detalle=!1:this.mostrar_detalle=!0}};const ko=(0,o.Z)(yo,[["render",wo]]);var Do=ko;const zo=(0,s._)("label",{class:"text-green-600",for:""},[(0,s._)("strong",null,"Datos de la persona")],-1),Eo={class:"flex flex-wrap gap-4"},Uo=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Nombres")],-1),Co=(0,s._)("br",null,null,-1),jo=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Apellidos")],-1),Vo=(0,s._)("br",null,null,-1),Zo=(0,s._)("br",null,null,-1),To=(0,s._)("label",{class:"text-green-600",for:""},[(0,s._)("strong",null,"Sobre el examen")],-1),Wo={class:"flex flex-wrap gap-4"},qo=(0,s._)("label",{for:""},[(0,s._)("strong",null,"ID")],-1),Fo=(0,s._)("br",null,null,-1),Ro=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Estado del examen")],-1),So=(0,s._)("br",null,null,-1),Oo=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Titulo")],-1),Io=(0,s._)("br",null,null,-1),$o=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Motivo")],-1),Po=(0,s._)("br",null,null,-1),Yo=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Fecha de ingreso")],-1),Ho=(0,s._)("br",null,null,-1),Mo=(0,s._)("label",{for:""},[(0,s._)("strong",null,"Observacion")],-1),No=(0,s._)("br",null,null,-1),Bo=(0,s._)("br",null,null,-1),Ao={key:0,class:"flex bg-gray-300 rounded-lg gap-2 text-gray-800 w-fit p-2"},Ko=(0,s._)("label",{class:"italic",for:""},[(0,s._)("strong",null,"Eliminando examen...")],-1),Lo=["src"],Go=(0,s._)("br",null,null,-1),Qo={key:1},Jo={key:2},Xo=(0,s._)("label",{class:"italic",for:""},[(0,s._)("strong",null,"Seleccione un examen para poder eliminarlo")],-1),ei=[Xo],ai=(0,s._)("br",null,null,-1);function ti(e,a,t,r,o,i){const l=(0,s.up)("Card");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(l,{class:"text-gray-800 font-sans"},{default:(0,s.w5)((()=>[zo,(0,s._)("div",Eo,[(0,s._)("div",null,[Uo,Co,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md",type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>o._persona.nombres=e)},null,512),[[n.nr,o._persona.nombres]])]),(0,s._)("div",null,[jo,Vo,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md",type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>o._persona.apellidos=e)},null,512),[[n.nr,o._persona.apellidos]])])]),Zo,To,(0,s._)("div",Wo,[(0,s._)("div",null,[qo,Fo,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md",type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>o._examen.id=e)},null,512),[[n.nr,o._examen.id]])]),(0,s._)("div",null,[Ro,So,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md",type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>o._examen.estado=e)},null,512),[[n.nr,o._examen.estado]])]),(0,s._)("div",null,[Oo,Io,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md",type:"text","onUpdate:modelValue":a[4]||(a[4]=e=>o._examen.examen=e),required:"true",maxlength:"200"},null,512),[[n.nr,o._examen.examen]])]),(0,s._)("div",null,[$o,Po,(0,s.wy)((0,s._)("textarea",{disabled:"true",class:"px-1 rounded-md sm:w-80","onUpdate:modelValue":a[5]||(a[5]=e=>o._examen.motivo=e),rows:"2",maxlength:"500"},null,512),[[n.nr,o._examen.motivo]])]),(0,s._)("div",null,[Yo,Ho,(0,s.wy)((0,s._)("input",{disabled:"true",class:"px-1 rounded-md",type:"date","onUpdate:modelValue":a[6]||(a[6]=e=>o._examen.fecha_realiza=e)},null,512),[[n.nr,o._examen.fecha_realiza]])]),(0,s._)("div",null,[Mo,No,(0,s.wy)((0,s._)("textarea",{disabled:"true",class:"px-1 rounded-md sm:w-80",placeholder:"pendiente","onUpdate:modelValue":a[7]||(a[7]=e=>o._examen.observacion=e),rows:"2",maxlength:"500"},null,512),[[n.nr,o._examen.observacion]])])])])),_:1}),Bo,o.eliminando?((0,s.wg)(),(0,s.iD)("div",Ao,[Ko,(0,s._)("img",{class:"w-6 h-6 animate-spin",src:o.arrows_rotate,alt:"arrows rotate"},null,8,Lo)])):(0,s.kq)("",!0),Go,o.mostrar_eliminar?((0,s.wg)(),(0,s.iD)("div",Qo,[(0,s._)("button",{class:"bg-red-600 p-2 rounded-lg active:bg-red-800",onClick:a[8]||(a[8]=(...e)=>i.eliminar&&i.eliminar(...e))},"Eliminar Examen")])):((0,s.wg)(),(0,s.iD)("div",Jo,ei)),ai])}var ni={name:"EliminarExamen",components:{Card:oa},data(){return{examen:ps(),arrows_rotate:Le,_examen:{},_persona:{},mostrar_eliminar:!1,eliminando:!1}},methods:{cargar_datos(){try{this._examen=this.examen.examen??{id:"",examen:"",institucion:"",estado:"",motivo:"",observacion:"",fecha_realiza:""},this._persona=this.examen.persona??{nombres:"",apellidos:""}}catch(e){}void 0==this._examen.id||""==this._examen.id?this.mostrar_eliminar=!1:this.mostrar_eliminar=!0},async eliminar(){this.eliminando=!0,await pe.delete(this._examen.id),this.examen.eliminarExamen(),this.cargar_datos(),this.eliminando=!1}},mounted(){this.cargar_datos()}};const si=(0,o.Z)(ni,[["render",ti]]);var ri=si;const oi={class:"container mx-auto"},ii={class:"flex flex-row-reverse px-3 mt-2 gap-2 text-gray-400"},li=(0,s._)("div",{class:"flex-grow"},null,-1),di={class:"p-1 text-teal-200"},ui=(0,s._)("br",null,null,-1),ci={class:"mx-5 sm:mx-24"},_i=(0,s._)("div",{class:"text-gray-200 font-sans"},[(0,s._)("h3",{class:"font-sans text-xl capitalize"},"Todos mis examenes")],-1),mi=(0,s._)("br",null,null,-1),pi={key:0,class:"flex flex-row-reverse"};function gi(e,a,t,n,r,o){const i=(0,s.up)("Toolbar"),l=(0,s.up)("Tabla"),d=(0,s.up)("DetalleExamen");return(0,s.wg)(),(0,s.iD)("div",oi,[(0,s.Wm)(i,{datos:r.datos_toolbar},null,8,["datos"]),(0,s._)("div",ii,[(0,s._)("button",{class:"animation ease-in-out duration-300 ring-teal-600 hover:ring hover:bg-teal-900 hover:text-gray-200 p-1 rounded-md",onClick:a[0]||(a[0]=(...e)=>o.terminar_sesion&&o.terminar_sesion(...e))}," Terminar sesion "),li,(0,s._)("h3",di,[(0,s._)("strong",null,"Bienvenido "+(0,c.zw)(r.sesion.usuario),1)])]),ui,(0,s._)("div",ci,[_i,(0,s.Wm)(l,{mostrar:r.terminado_examenes,datos:r.tabla_examenes,onRecargar:o.recargar,onFila:o.capturar_fila},null,8,["mostrar","datos","onRecargar","onFila"]),mi,r.mostrar_detalle?((0,s.wg)(),(0,s.iD)("div",pi,[(0,s._)("button",{class:"rounded-md bg-red-600 p-1 text-gray-100 hover:bg-red-700",onClick:a[1]||(a[1]=e=>r.mostrar_detalle=!r.mostrar_detalle)},"Cerrar")])):(0,s.kq)("",!0),r.mostrar_detalle?((0,s.wg)(),(0,s.j4)(d,{key:1,id_examen:r.fila.id,onDetalle:o.capturar_detalle},null,8,["id_examen","onDetalle"])):(0,s.kq)("",!0)])])}var hi={name:"InicioPacienteView",components:{Toolbar:W,Tabla:Pa,DetalleExamen:ms},data(){return{examen:ps(),sesion:ot(),datos_toolbar:xi,mostrar_detalle:!1,terminado_examenes:!1,tabla_examenes:{titulos:void 0,registros:[]},personas:void 0,instituciones:void 0,estados:void 0,fila:{},id_persona:0}},methods:{verificar_sesion(){void 0==this.sesion.usuario&&this.$router.push(q),2!=this.sesion.id_rol&&this.$router.push(q)},terminar_sesion(){this.sesion.terminarSesion(),this.verificar_sesion()},async cargar_examenes(){this.terminado_examenes=!1;try{this.tabla_examenes.registros=[],this.personas=await me.get_personas(),this.instituciones=await ce.get_instituciones(),this.estados=await _e.get_estados(),this.tabla_examenes.titulos=["id","institucion","nombres","apellidos","estado","examen","motivo","fecha_realiza","observacion"];let e=await pe.get_examenes();e.forEach((e=>{e.id_persona==this.id_persona&&this.tabla_examenes.registros.push(e)})),this.tabla_examenes.registros.forEach((e=>{let a=this.personas.find((a=>a.id==e.id_persona));e.nombres=a.nombres,e.apellidos=a.apellidos,a=this.instituciones.find((a=>a.id==e.id_institucion)),e.institucion=a.institucion,a=this.estados.find((a=>a.id==e.id_estado)),e.estado=a.estado}))}catch(e){}this.terminado_examenes=!0},recargar(){this.cargar_examenes()},capturar_fila(e){this.mostrar_detalle=!0,this.fila=e},capturar_detalle(e){e=JSON.parse(e),this.examen.setExamen(e.examen),this.examen.setDetalle(e.detalle),this.examen.setPersona(e.persona),this.examen.setInstitucion(e.institucion)}},beforeMount(){this.verificar_sesion()},mounted(){this.id_persona=this.sesion.id_persona,this.cargar_examenes()}};const xi={titulo:"biolab",enlaces:[],primarios:[]},bi=(0,o.Z)(hi,[["render",gi]]);var vi=bi;const fi={class:"text-gray-200"},wi=(0,s._)("br",null,null,-1);function yi(e,a,t,n,r,o){const i=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",fi,[(0,s.Uk)(" pdf "),wi,(0,s.Wm)(i)])}var ki={name:"PdfView"};const Di=(0,o.Z)(ki,[["render",yi]]);var zi=Di;const Ei=[{path:"/",name:"home",component:fe},{path:"/registro",name:"registro",component:wa},{path:"/examenes_disponibles",name:"examenes_disponibles",component:Ma},{path:"/login",name:"login",component:dt},{path:"/pdf",name:"pdf",component:zi,children:[{path:"resumen/:id",name:"resumen",component:Hs}]},{path:"/inicio_paciente",name:"inicio_paciente",component:vi},{path:"/inicio",name:"inicio",component:ft,children:[{path:"examenes",name:"examenes",component:xs},{path:"administrar",name:"administrar",component:Cs,children:[{path:"nuevo_examen",name:"nuevo_examen",component:zr},{path:"nuevo_detalle",name:"nuevo_detalle",component:Do},{path:"eliminar_examen",name:"eliminar_examen",component:ri}]},{path:"pacientes",name:"pacientes",component:Rs}]}],Ui=(0,u.p7)({history:(0,u.PO)("/"),routes:Ei});var Ci=Ui;const ji=(0,rt.WB)(),Vi=(0,n.ri)(d);Vi.use(Ci),Vi.use(ji),Vi.mount("#app")},7687:function(e,a,t){"use strict";e.exports=t.p+"img/arrows-rotate-solid.6e18a51d.svg"},2480:function(){}},a={};function t(n){var s=a[n];if(void 0!==s)return s.exports;var r=a[n]={exports:{}};return e[n].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(a,n,s,r){if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],s=e[u][1],r=e[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&r||o>=r)&&Object.keys(t.O).every((function(e){return t.O[e](n[l])}))?n.splice(l--,1):(i=!1,r<o&&(o=r));if(i){e.splice(u--,1);var d=s();void 0!==d&&(a=d)}}return a}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,s,r]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,n){var s,r,o=n[0],i=n[1],l=n[2],d=0;if(o.some((function(a){return 0!==e[a]}))){for(s in i)t.o(i,s)&&(t.m[s]=i[s]);if(l)var u=l(t)}for(a&&a(n);d<o.length;d++)r=o[d],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(u)},n=self["webpackChunkexamenes"]=self["webpackChunkexamenes"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(3451)}));n=t.O(n)})();
//# sourceMappingURL=app.eea52fd5.js.map